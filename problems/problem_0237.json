{
  "description": "IyMgVGFzazogUkdCIHRvIEdyYXlzY2FsZSBDb252ZXJzaW9uCgpJbiB0aGlzIHRhc2ssIHlvdSB3aWxsIGltcGxlbWVudCBhIGZ1bmN0aW9uIGByZ2JfdG9fZ3JheXNjYWxlKGltYWdlKWAgdGhhdCBjb252ZXJ0cyBhbiBSR0IgaW1hZ2UgdG8gYSBncmF5c2NhbGUgaW1hZ2UgdXNpbmcgdGhlIGx1bWlub3NpdHkgbWV0aG9kLgoKVGhlIGlucHV0IGltYWdlIGlzIHJlcHJlc2VudGVkIGFzIGEgM0QgYXJyYXkgb2Ygc2hhcGUgKEgsIFcsIDMpLCB3aGVyZSBIIGlzIGhlaWdodCwgVyBpcyB3aWR0aCwgYW5kIDMgcmVwcmVzZW50cyB0aGUgUkdCIGNvbG9yIGNoYW5uZWxzLiBFYWNoIHBpeGVsIHZhbHVlIHNob3VsZCBiZSBpbiB0aGUgcmFuZ2UgWzAsIDI1NV0uCgojIyMgKipZb3VyIFRhc2sqKjoKSW1wbGVtZW50IHRoZSBmdW5jdGlvbiBgcmdiX3RvX2dyYXlzY2FsZShpbWFnZSlgIHRvOgoxLiBDb252ZXJ0IHRoZSBSR0IgaW1hZ2UgdG8gZ3JheXNjYWxlIHVzaW5nIHRoZSBzdGFuZGFyZCBsdW1pbm9zaXR5IGNvZWZmaWNpZW50cyBmb3IgaHVtYW4gcGVyY2VwdGlvbiBvZiBjb2xvciBicmlnaHRuZXNzLgoyLiBSZXR1cm4gdGhlIGdyYXlzY2FsZSBpbWFnZSBhcyBhIDJEIGxpc3Qgd2l0aCBwaXhlbCB2YWx1ZXMgcm91bmRlZCB0byBpbnRlZ2Vycy4KMy4gSGFuZGxlIGVkZ2UgY2FzZXM6CiAgIC0gSWYgdGhlIGlucHV0IGlzIG5vdCBhIHZhbGlkIDNEIGFycmF5IHdpdGggMyBjb2xvciBjaGFubmVscy4KICAgLSBJZiB0aGUgaW1hZ2UgaGFzIGVtcHR5IGRpbWVuc2lvbnMuCiAgIC0gSWYgYW55IHBpeGVsIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgdmFsaWQgcmFuZ2UgKDAtMjU1KS4KCkZvciBhbnkgb2YgdGhlc2UgZWRnZSBjYXNlcywgdGhlIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gYC0xYC4=",
  "id": "237",
  "test_cases": [
    {
      "test": "# Test pure RGB colors and white\nimage = [[[255, 0, 0], [0, 255, 0]], [[0, 0, 255], [255, 255, 255]]]\nprint(rgb_to_grayscale(image))",
      "expected_output": "[[76, 150], [29, 255]]"
    },
    {
      "test": "# Test invalid shape (2D instead of 3D)\nimage = [[100, 200], [150, 50]]\nprint(rgb_to_grayscale(image))",
      "expected_output": "-1"
    }
  ],
  "difficulty": "easy",
  "video": "",
  "likes": "0",
  "dislikes": "0",
  "example": {
    "input": "image = [[[255, 0, 0], [0, 255, 0]], [[0, 0, 255], [255, 255, 255]]]\nprint(rgb_to_grayscale(image))",
    "output": "[[76, 150], [29, 255]]",
    "reasoning": "Using the luminosity formula: Gray = 0.299*R + 0.587*G + 0.114*B\n- Pure Red (255, 0, 0): 0.299 * 255 = 76.245 -> 76\n- Pure Green (0, 255, 0): 0.587 * 255 = 149.685 -> 150\n- Pure Blue (0, 0, 255): 0.114 * 255 = 29.07 -> 29\n- White (255, 255, 255): 0.299*255 + 0.587*255 + 0.114*255 = 255"
  },
  "category": "Computer Vision",
  "starter_code": "import numpy as np\n\ndef rgb_to_grayscale(image):\n    \"\"\"\n    Convert an RGB image to grayscale using luminosity method.\n    \n    Args:\n        image: RGB image as list or numpy array of shape (H, W, 3)\n               with values in range [0, 255]\n    \n    Returns:\n        Grayscale image as 2D list with integer values,\n        or -1 if input is invalid\n    \"\"\"\n    # Write your code here\n    pass",
  "createdAt": "December 14, 2025 at 11:26:37â€¯AM UTC-0500",
  "learn_section": "IyBSR0IgdG8gR3JheXNjYWxlIENvbnZlcnNpb24KCkNvbnZlcnRpbmcgYSBjb2xvciBpbWFnZSB0byBncmF5c2NhbGUgaXMgb25lIG9mIHRoZSBtb3N0IGZ1bmRhbWVudGFsIG9wZXJhdGlvbnMgaW4gaW1hZ2UgcHJvY2Vzc2luZy4gV2hpbGUgdGhlcmUgYXJlIHNldmVyYWwgbWV0aG9kcyB0byBwZXJmb3JtIHRoaXMgY29udmVyc2lvbiwgdGhlICoqbHVtaW5vc2l0eSBtZXRob2QqKiBpcyB0aGUgbW9zdCBwZXJjZXB0dWFsbHkgYWNjdXJhdGUuCgojIyBXaHkgTm90IFNpbXBsZSBBdmVyYWdpbmc/CgpBIG5haXZlIGFwcHJvYWNoIHdvdWxkIGJlIHRvIGF2ZXJhZ2UgdGhlIHRocmVlIGNvbG9yIGNoYW5uZWxzOgoKJCRHcmF5X3thdmd9ID0gXGZyYWN7UiArIEcgKyBCfXszfSQkCgpIb3dldmVyLCB0aGlzIGRvZXNuJ3QgYWNjb3VudCBmb3IgaG93IGh1bWFuIGV5ZXMgcGVyY2VpdmUgYnJpZ2h0bmVzcy4gT3VyIGV5ZXMgYXJlIG1vc3Qgc2Vuc2l0aXZlIHRvIGdyZWVuIGxpZ2h0LCBsZXNzIHNlbnNpdGl2ZSB0byByZWQsIGFuZCBsZWFzdCBzZW5zaXRpdmUgdG8gYmx1ZS4KCiMjIFRoZSBMdW1pbm9zaXR5IE1ldGhvZAoKVGhlIGx1bWlub3NpdHkgbWV0aG9kIHVzZXMgd2VpZ2h0ZWQgY29lZmZpY2llbnRzIHRoYXQgcmVmbGVjdCBodW1hbiBwZXJjZXB0aW9uIG9mIGNvbG9yIGJyaWdodG5lc3M6CgokJEdyYXkgPSAwLjI5OSBcY2RvdCBSICsgMC41ODcgXGNkb3QgRyArIDAuMTE0IFxjZG90IEIkJAoKV2hlcmU6Ci0gJFIkIGlzIHRoZSByZWQgY2hhbm5lbCB2YWx1ZQotICRHJCBpcyB0aGUgZ3JlZW4gY2hhbm5lbCB2YWx1ZSAgCi0gJEIkIGlzIHRoZSBibHVlIGNoYW5uZWwgdmFsdWUKClRoZXNlIGNvZWZmaWNpZW50cyBhcmUgZGVyaXZlZCBmcm9tIHRoZSBJVFUtUiBCVC42MDEgc3RhbmRhcmQgYW5kIHN1bSB0byAxOgoKJCQwLjI5OSArIDAuNTg3ICsgMC4xMTQgPSAxLjAkJAoKIyMgV2h5IFRoZXNlIFNwZWNpZmljIFdlaWdodHM/CgpUaGUgaHVtYW4gZXllIGNvbnRhaW5zIHRocmVlIHR5cGVzIG9mIGNvbmUgY2VsbHM6CjEuICoqTC1jb25lcyoqIChsb25nIHdhdmVsZW5ndGgpIC0gc2Vuc2l0aXZlIHRvIHJlZCAofjU2NCBubSkKMi4gKipNLWNvbmVzKiogKG1lZGl1bSB3YXZlbGVuZ3RoKSAtIHNlbnNpdGl2ZSB0byBncmVlbiAofjUzNCBubSkKMy4gKipTLWNvbmVzKiogKHNob3J0IHdhdmVsZW5ndGgpIC0gc2Vuc2l0aXZlIHRvIGJsdWUgKH40MjAgbm0pCgpXZSBoYXZlIHNpZ25pZmljYW50bHkgbW9yZSBNLWNvbmVzIHRoYW4gTC1jb25lcywgYW5kIGZhciBmZXdlciBTLWNvbmVzLiBUaGlzIGJpb2xvZ2ljYWwgZmFjdCBleHBsYWlucyB3aHk6Ci0gR3JlZW4gY29udHJpYnV0ZXMgbW9zdCB0byBwZXJjZWl2ZWQgYnJpZ2h0bmVzcyAoNTguNyUpCi0gUmVkIGNvbnRyaWJ1dGVzIG1vZGVyYXRlbHkgKDI5LjklKQotIEJsdWUgY29udHJpYnV0ZXMgbGVhc3QgKDExLjQlKQoKIyMgRXhhbXBsZSBDYWxjdWxhdGlvbgoKRm9yIGEgcGl4ZWwgd2l0aCBSR0IgdmFsdWVzICQoMTAwLCAxNTAsIDIwMCkkOgoKJCRHcmF5ID0gMC4yOTkgXHRpbWVzIDEwMCArIDAuNTg3IFx0aW1lcyAxNTAgKyAwLjExNCBcdGltZXMgMjAwJCQKJCRHcmF5ID0gMjkuOSArIDg4LjA1ICsgMjIuOCA9IDE0MC43NSBcYXBwcm94IDE0MSQkCgojIyBBcHBsaWNhdGlvbnMKCkdyYXlzY2FsZSBjb252ZXJzaW9uIGlzIHVzZWQgaW46Ci0gRWRnZSBkZXRlY3Rpb24gYWxnb3JpdGhtcwotIEZlYXR1cmUgZXh0cmFjdGlvbgotIFJlZHVjaW5nIGNvbXB1dGF0aW9uYWwgY29tcGxleGl0eQotIEhpc3RvcmljYWwgcGhvdG8gcmVzdG9yYXRpb24KLSBNZWRpY2FsIGltYWdpbmcgcHJlcHJvY2Vzc2luZw==",
  "contributor": [
    {
      "profile_link": "https://github.com/Open-Deep-ML",
      "name": "Deep-ML"
    }
  ],
  "title": "Convert RGB Image to Grayscale",
  "description_decoded": "## Task: RGB to Grayscale Conversion\n\nIn this task, you will implement a function `rgb_to_grayscale(image)` that converts an RGB image to a grayscale image using the luminosity method.\n\nThe input image is represented as a 3D array of shape (H, W, 3), where H is height, W is width, and 3 represents the RGB color channels. Each pixel value should be in the range [0, 255].\n\n### **Your Task**:\nImplement the function `rgb_to_grayscale(image)` to:\n1. Convert the RGB image to grayscale using the standard luminosity coefficients for human perception of color brightness.\n2. Return the grayscale image as a 2D list with pixel values rounded to integers.\n3. Handle edge cases:\n   - If the input is not a valid 3D array with 3 color channels.\n   - If the image has empty dimensions.\n   - If any pixel values are outside the valid range (0-255).\n\nFor any of these edge cases, the function should return `-1`.",
  "learn_section_decoded": "# RGB to Grayscale Conversion\n\nConverting a color image to grayscale is one of the most fundamental operations in image processing. While there are several methods to perform this conversion, the **luminosity method** is the most perceptually accurate.\n\n## Why Not Simple Averaging?\n\nA naive approach would be to average the three color channels:\n\n$$Gray_{avg} = \\frac{R + G + B}{3}$$\n\nHowever, this doesn't account for how human eyes perceive brightness. Our eyes are most sensitive to green light, less sensitive to red, and least sensitive to blue.\n\n## The Luminosity Method\n\nThe luminosity method uses weighted coefficients that reflect human perception of color brightness:\n\n$$Gray = 0.299 \\cdot R + 0.587 \\cdot G + 0.114 \\cdot B$$\n\nWhere:\n- $R$ is the red channel value\n- $G$ is the green channel value  \n- $B$ is the blue channel value\n\nThese coefficients are derived from the ITU-R BT.601 standard and sum to 1:\n\n$$0.299 + 0.587 + 0.114 = 1.0$$\n\n## Why These Specific Weights?\n\nThe human eye contains three types of cone cells:\n1. **L-cones** (long wavelength) - sensitive to red (~564 nm)\n2. **M-cones** (medium wavelength) - sensitive to green (~534 nm)\n3. **S-cones** (short wavelength) - sensitive to blue (~420 nm)\n\nWe have significantly more M-cones than L-cones, and far fewer S-cones. This biological fact explains why:\n- Green contributes most to perceived brightness (58.7%)\n- Red contributes moderately (29.9%)\n- Blue contributes least (11.4%)\n\n## Example Calculation\n\nFor a pixel with RGB values $(100, 150, 200)$:\n\n$$Gray = 0.299 \\times 100 + 0.587 \\times 150 + 0.114 \\times 200$$\n$$Gray = 29.9 + 88.05 + 22.8 = 140.75 \\approx 141$$\n\n## Applications\n\nGrayscale conversion is used in:\n- Edge detection algorithms\n- Feature extraction\n- Reducing computational complexity\n- Historical photo restoration\n- Medical imaging preprocessing"
}