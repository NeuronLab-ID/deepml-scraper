{
  "description": "V3JpdGUgYSBQeXRob24gZnVuY3Rpb24gdGhhdCB0cmFuc2Zvcm1zIGEgZ2l2ZW4gbWF0cml4IEEgdXNpbmcgdGhlIG9wZXJhdGlvbiAgJFReey0xfSBBIFMkLCB3aGVyZSBUIGFuZCBTIGFyZSBpbnZlcnRpYmxlIG1hdHJpY2VzLiBUaGUgZnVuY3Rpb24gc2hvdWxkIGZpcnN0IHZhbGlkYXRlIGlmIHRoZSBtYXRyaWNlcyBUIGFuZCBTIGFyZSBpbnZlcnRpYmxlLCBhbmQgdGhlbiBwZXJmb3JtIHRoZSB0cmFuc2Zvcm1hdGlvbi4gSW4gY2FzZXMgd2hlcmUgdGhlcmUgaXMgbm8gc29sdXRpb24gcmV0dXJuIC0x",
  "mdx_file": "935e3734-a356-47b6-8947-128d22898970.mdx",
  "id": "7",
  "test_cases": [
    {
      "test": "print(transform_matrix([[1, 2], [3, 4]], [[2, 0], [0, 2]], [[1, 1], [0, 1]]))",
      "expected_output": "[[0.5, 1.5], [1.5, 3.5]]"
    },
    {
      "test": "print(transform_matrix([[1, 0], [0, 1]], [[1, 2], [3, 4]], [[2, 0], [0, 2]]))",
      "expected_output": "[[-4.0, 2.0], [3.0, -1.0]]"
    }
  ],
  "difficulty": "medium",
  "pytorch_difficulty": "medium",
  "likes": "0",
  "video": "https://youtu.be/20zaxoO1mDg?si=oLCfMB59ilnG7-Sq",
  "cuda_difficulty": "hard",
  "cuda_test_cases": [
    {
      "test": "#include <iostream>\n#include <vector>\n\nstd::vector<std::vector<float>> transform_matrix(const std::vector<std::vector<float>>& A, const std::vector<std::vector<float>>& T, const std::vector<std::vector<float>>& S);\n\nvoid print_matrix(const std::vector<std::vector<float>>& m) {\n    std::cout << \"[\";\n    for (int i = 0; i < m.size(); i++) {\n        std::cout << \"[\";\n        for (int j = 0; j < m[i].size(); j++) {\n            std::cout << m[i][j];\n            if (j < m[i].size() - 1) std::cout << \", \";\n        }\n        std::cout << \"]\";\n        if (i < m.size() - 1) std::cout << \", \";\n    }\n    std::cout << \"]\" << std::endl;\n}\n\nint main() {\n    std::vector<std::vector<float>> A = {{1, 2}, {3, 4}};\n    std::vector<std::vector<float>> T = {{2, 0}, {0, 2}};\n    std::vector<std::vector<float>> S = {{1, 1}, {0, 1}};\n    auto result = transform_matrix(A, T, S);\n    print_matrix(result);\n    return 0;\n}",
      "expected_output": "[[0.5, 1.5], [1.5, 3.5]]"
    },
    {
      "test": "#include <iostream>\n#include <vector>\n\nstd::vector<std::vector<float>> transform_matrix(const std::vector<std::vector<float>>& A, const std::vector<std::vector<float>>& T, const std::vector<std::vector<float>>& S);\n\nint main() {\n    std::vector<std::vector<float>> A = {{2, 3}, {1, 4}};\n    std::vector<std::vector<float>> T = {{3, 0}, {0, 3}};\n    std::vector<std::vector<float>> S = {{1, 1}, {1, 1}};\n    auto result = transform_matrix(A, T, S);\n    std::cout << result[0][0] << std::endl;\n    return 0;\n}",
      "expected_output": "-1"
    }
  ],
  "example": {
    "input": "A = [[1, 2], [3, 4]], T = [[2, 0], [0, 2]], S = [[1, 1], [0, 1]]",
    "output": "[[0.5,1.5],[1.5,3.5]]",
    "reasoning": "The matrices T and S are used to transform matrix A by computing $T^{-1}AS$."
  },
  "dislikes": "0",
  "category": "Linear Algebra",
  "starter_code": "import numpy as np\n\ndef transform_matrix(A: list[list[int|float]], T: list[list[int|float]], S: list[list[int|float]]) -> list[list[int|float]]:\n\treturn transformed_matrix",
  "title": "Matrix Transformation ",
  "cuda_starter_code": "I2luY2x1ZGUgPGN1ZGFfcnVudGltZS5oPgojaW5jbHVkZSA8aW9zdHJlYW0+CiNpbmNsdWRlIDx2ZWN0b3I+CiNpbmNsdWRlIDxjbWF0aD4KCi8vIEhlbHBlciBmdW5jdGlvbiB0byBjb21wdXRlIDJ4MiBtYXRyaXggaW52ZXJzZSBvbiBkZXZpY2UKX19kZXZpY2VfXyB2b2lkIGludmVydF8yeDIoY29uc3QgZmxvYXQqIG1hdCwgZmxvYXQqIGludiwgZmxvYXQqIGRldCkgewogICAgLy8gSW1wbGVtZW50IDJ4MiBtYXRyaXggaW52ZXJzZQp9CgpfX2dsb2JhbF9fIHZvaWQgdHJhbnNmb3JtX2tlcm5lbCgKICAgIGNvbnN0IGZsb2F0KiBBLAogICAgY29uc3QgZmxvYXQqIFRfaW52LAogICAgY29uc3QgZmxvYXQqIFMsCiAgICBmbG9hdCogcmVzdWx0LAogICAgaW50IG4KKSB7CiAgICAvLyBJbXBsZW1lbnQgdGhlIGtlcm5lbCB0byBjb21wdXRlIFRfaW52ICogQSAqIFMKfQoKc3RkOjp2ZWN0b3I8c3RkOjp2ZWN0b3I8ZmxvYXQ+PiB0cmFuc2Zvcm1fbWF0cml4KAogICAgY29uc3Qgc3RkOjp2ZWN0b3I8c3RkOjp2ZWN0b3I8ZmxvYXQ+PiYgQSwKICAgIGNvbnN0IHN0ZDo6dmVjdG9yPHN0ZDo6dmVjdG9yPGZsb2F0Pj4mIFQsCiAgICBjb25zdCBzdGQ6OnZlY3RvcjxzdGQ6OnZlY3RvcjxmbG9hdD4+JiBTCikgewogICAgLy8gUmV0dXJuIHstMX0gaWYgVCBvciBTIGlzIG5vdCBpbnZlcnRpYmxlCiAgICAvLyAxLiBDb21wdXRlIGludmVyc2Ugb2YgVAogICAgLy8gMi4gQ29tcHV0ZSBUX2ludiAqIEEgKiBTIHVzaW5nIENVREEKICAgIHJldHVybiB7fTsKfQ==",
  "contributor": [
    {
      "profile_link": "https://github.com/mimi2626",
      "name": "mimi2626"
    },
    {
      "profile_link": "https://github.com/Haleshot",
      "name": "Srihari Thyagarajan"
    },
    {
      "profile_link": "https://github.com/sai-samarth",
      "name": "sai-samarth"
    },
    {
      "profile_link": "https://github.com/836hardik-agrawal",
      "name": "836hardik-agrawal"
    }
  ],
  "pytorch_test_cases": [
    {
      "test": "import torch\nres = transform_matrix(\n    torch.tensor([[1,2],[3,4]], dtype=torch.float),\n    torch.eye(2),\n    torch.eye(2)\n)\nprint(res.detach().numpy().tolist())",
      "expected_output": "[[1.0, 2.0], [3.0, 4.0]]"
    },
    {
      "test": "import torch\nres = transform_matrix(\n    torch.tensor([[1,2],[3,4]], dtype=torch.float),\n    torch.tensor([[2,0],[0,3]], dtype=torch.float),\n    torch.eye(2)\n)\nprint(res.detach().numpy().tolist())",
      "expected_output": "[[0.5, 1.0], [1.0, 1.333]]"
    },
    {
      "test": "import torch\nres = transform_matrix(\n    torch.tensor([[1,2],[3,4]], dtype=torch.float),\n    torch.eye(2),\n    torch.tensor([[1,0],[0,0]], dtype=torch.float)\n)\nprint(res.detach().numpy().tolist())",
      "expected_output": "-1.0"
    }
  ],
  "learn_section": "IyMjIE1hdHJpeCBUcmFuc2Zvcm1hdGlvbiB1c2luZyAkVF57LTF9IEEgUyQKClRyYW5zZm9ybWluZyBhIG1hdHJpeCAkQSQgdXNpbmcgdGhlIG9wZXJhdGlvbiAkVF57LTF9IEEgUyQgaW52b2x2ZXMgc2V2ZXJhbCBzdGVwcy4gVGhpcyBvcGVyYXRpb24gY2hhbmdlcyB0aGUgYmFzaXMgb2YgbWF0cml4ICRBJCB1c2luZyB0d28gbWF0cmljZXMgJFQkIGFuZCAkUyQsIHdpdGggJFQkIGFuZCAkUyQgYmVpbmcgaW52ZXJ0aWJsZSwgdG8gYXZvaWQgbG9zcyBvZiBpbmZvcm1hdGlvbi4KKE11bHRpcGx5aW5nIGJ5IG5vbi1pbnZlcnRpYmxlICRTJCB3b3VsZCByZXN1bHQgaW4gYSBsb3NzIG9mIGRpbWVuc2lvbnMpCgojIyMgU3RlcHMgZm9yIFRyYW5zZm9ybWF0aW9uCgpHaXZlbiBtYXRyaWNlcyAkQSQsICRUJCwgYW5kICRTJDoKCjEuICoqQ2hlY2sgSW52ZXJ0aWJpbGl0eSoqOiBWZXJpZnkgdGhhdCAkVCQgYW5kICRTJCBhcmUgaW52ZXJ0aWJsZSBieSBlbnN1cmluZyB0aGVpciBkZXRlcm1pbmFudHMgYXJlIG5vbi16ZXJvOyBvdGhlcndpc2UsIHJldHVybiAkLTEkLgoyLiAqKkNvbXB1dGUgSW52ZXJzZXMqKjogRmluZCB0aGUgaW52ZXJzIG9mICRUJCwgZGVub3RlZCBhcyAkVF57LTF9JC4KMy4gKipQZXJmb3JtIE1hdHJpeCBNdWx0aXBsaWNhdGlvbioqOiBDYWxjdWxhdGUgdGhlIHRyYW5zZm9ybWVkIG1hdHJpeDoKCiAgICQkCiAgIEEnID0gVF57LTF9IEEgUwogICAkJAoKIyMjIEV4YW1wbGUKCklmOgoKJCQKQSA9ClxiZWdpbntwbWF0cml4fSAKMSAmIDIgXFwgCjMgJiA0IApcZW5ke3BtYXRyaXh9CiQkCgokJApUID0KXGJlZ2lue3BtYXRyaXh9IAoyICYgMCBcXCAKMCAmIDIgClxlbmR7cG1hdHJpeH0KJCQKCiQkClMgPQpcYmVnaW57cG1hdHJpeH0gCjEgJiAxIFxcIAowICYgMSAKXGVuZHtwbWF0cml4fQokJAoKIyMjIyBDaGVjayBJbnZlcnRpYmlsaXR5OgoKLSAkXGRldChUKSA9IDQgXG5lcSAwJAotICRcZGV0KFMpID0gMSBcbmVxIDAkCgojIyMjIENvbXB1dGUgSW52ZXJzZXM6CgokJApUXnstMX0gPQpcYmVnaW57cG1hdHJpeH0gClxmcmFjezF9ezJ9ICYgMCBcXCAKMCAmIFxmcmFjezF9ezJ9IApcZW5ke3BtYXRyaXh9CiQkCgojIyMjIFBlcmZvcm0gdGhlIFRyYW5zZm9ybWF0aW9uOgoKJCQKQScgPSBUXnstMX0gQSBTCiQkCgokJApBJyA9ClxiZWdpbntwbWF0cml4fSAKXGZyYWN7MX17Mn0gJiAwIFxcIAowICYgXGZyYWN7MX17Mn0gClxlbmR7cG1hdHJpeH0KXGJlZ2lue3BtYXRyaXh9IAoxICYgMiBcXCAKMyAmIDQgClxlbmR7cG1hdHJpeH0KXGJlZ2lue3BtYXRyaXh9IAoxICYgMSBcXCAKMCAmIDEgClxlbmR7cG1hdHJpeH0KJCQKCiQkCkEnID0KXGJlZ2lue3BtYXRyaXh9IAowLjUgJiAxLjUgXFwgCjEuNSAmIDMuNSAKXGVuZHtwbWF0cml4fQokJA==",
  "pytorch_starter_code": "aW1wb3J0IHRvcmNoCgpkZWYgdHJhbnNmb3JtX21hdHJpeChBLCBULCBTKSAtPiB0b3JjaC5UZW5zb3I6CiAgICAiIiIKICAgIFBlcmZvcm0gdGhlIGNoYW5nZS1vZi1iYXNpcyB0cmFuc2Zvcm0gVOKBu8K5IEEgUyBhbmQgcm91bmQgdG8gMyBkZWNpbWFscyB1c2luZyBQeVRvcmNoLgogICAgSW5wdXRzIEEsIFQsIFMgY2FuIGJlIFB5dGhvbiBsaXN0cywgTnVtUHkgYXJyYXlzLCBvciB0b3JjaCBUZW5zb3JzLgogICAgUmV0dXJucyBhIDLDlzIgdGVuc29yIG9yIHRlbnNvcigtMS4pIGlmIFQgb3IgUyBpcyBzaW5ndWxhci4KICAgICIiIgogICAgQV90ID0gdG9yY2guYXNfdGVuc29yKEEsIGR0eXBlPXRvcmNoLmZsb2F0KQogICAgVF90ID0gdG9yY2guYXNfdGVuc29yKFQsIGR0eXBlPXRvcmNoLmZsb2F0KQogICAgU190ID0gdG9yY2guYXNfdGVuc29yKFMsIGR0eXBlPXRvcmNoLmZsb2F0KQogICAgIyBZb3VyIGltcGxlbWVudGF0aW9uIGhlcmUKICAgIHBhc3MK",
  "description_decoded": "Write a Python function that transforms a given matrix A using the operation  $T^{-1} A S$, where T and S are invertible matrices. The function should first validate if the matrices T and S are invertible, and then perform the transformation. In cases where there is no solution return -1",
  "learn_section_decoded": "### Matrix Transformation using $T^{-1} A S$\n\nTransforming a matrix $A$ using the operation $T^{-1} A S$ involves several steps. This operation changes the basis of matrix $A$ using two matrices $T$ and $S$, with $T$ and $S$ being invertible, to avoid loss of information.\n(Multiplying by non-invertible $S$ would result in a loss of dimensions)\n\n### Steps for Transformation\n\nGiven matrices $A$, $T$, and $S$:\n\n1. **Check Invertibility**: Verify that $T$ and $S$ are invertible by ensuring their determinants are non-zero; otherwise, return $-1$.\n2. **Compute Inverses**: Find the invers of $T$, denoted as $T^{-1}$.\n3. **Perform Matrix Multiplication**: Calculate the transformed matrix:\n\n   $$\n   A' = T^{-1} A S\n   $$\n\n### Example\n\nIf:\n\n$$\nA =\n\\begin{pmatrix} \n1 & 2 \\\\ \n3 & 4 \n\\end{pmatrix}\n$$\n\n$$\nT =\n\\begin{pmatrix} \n2 & 0 \\\\ \n0 & 2 \n\\end{pmatrix}\n$$\n\n$$\nS =\n\\begin{pmatrix} \n1 & 1 \\\\ \n0 & 1 \n\\end{pmatrix}\n$$\n\n#### Check Invertibility:\n\n- $\\det(T) = 4 \\neq 0$\n- $\\det(S) = 1 \\neq 0$\n\n#### Compute Inverses:\n\n$$\nT^{-1} =\n\\begin{pmatrix} \n\\frac{1}{2} & 0 \\\\ \n0 & \\frac{1}{2} \n\\end{pmatrix}\n$$\n\n#### Perform the Transformation:\n\n$$\nA' = T^{-1} A S\n$$\n\n$$\nA' =\n\\begin{pmatrix} \n\\frac{1}{2} & 0 \\\\ \n0 & \\frac{1}{2} \n\\end{pmatrix}\n\\begin{pmatrix} \n1 & 2 \\\\ \n3 & 4 \n\\end{pmatrix}\n\\begin{pmatrix} \n1 & 1 \\\\ \n0 & 1 \n\\end{pmatrix}\n$$\n\n$$\nA' =\n\\begin{pmatrix} \n0.5 & 1.5 \\\\ \n1.5 & 3.5 \n\\end{pmatrix}\n$$"
}