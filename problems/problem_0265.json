{
  "description": "SW1wbGVtZW50IGEgMkQgYXZlcmFnZSBwb29saW5nIG9wZXJhdGlvbiBjb21tb25seSB1c2VkIGluIENvbnZvbHV0aW9uYWwgTmV1cmFsIE5ldHdvcmtzLiBHaXZlbiBhIDJEIGlucHV0IG1hdHJpeCBhbmQgYSBwb29sIHNpemUsIGNvbXB1dGUgdGhlIGF2ZXJhZ2UgcG9vbGluZyBvdXRwdXQgYnkgZGl2aWRpbmcgdGhlIGlucHV0IGludG8gbm9uLW92ZXJsYXBwaW5nIHNxdWFyZSByZWdpb25zIG9mIHRoZSBzcGVjaWZpZWQgcG9vbCBzaXplIGFuZCBjb21wdXRpbmcgdGhlIG1lYW4gdmFsdWUgb2YgZWFjaCByZWdpb24uIFRoZSBwb29saW5nIG9wZXJhdGlvbiByZWR1Y2VzIHRoZSBzcGF0aWFsIGRpbWVuc2lvbnMgb2YgdGhlIGlucHV0IGJ5IGEgZmFjdG9yIGVxdWFsIHRvIHRoZSBwb29sIHNpemUuIEFzc3VtZSB0aGUgaW5wdXQgZGltZW5zaW9ucyBhcmUgZXZlbmx5IGRpdmlzaWJsZSBieSB0aGUgcG9vbCBzaXplLg==",
  "id": "265",
  "test_cases": [
    {
      "test": "print(avg_pool_2d([[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12], [13, 14, 15, 16]], 2))",
      "expected_output": "[[3.5, 5.5], [11.5, 13.5]]"
    },
    {
      "test": "print(avg_pool_2d([[1, 2, 3, 4, 5, 6], [7, 8, 9, 10, 11, 12], [13, 14, 15, 16, 17, 18], [19, 20, 21, 22, 23, 24], [25, 26, 27, 28, 29, 30], [31, 32, 33, 34, 35, 36]], 3))",
      "expected_output": "[[8.0, 11.0], [26.0, 29.0]]"
    }
  ],
  "difficulty": "easy",
  "video": "",
  "likes": "0",
  "dislikes": "0",
  "example": {
    "input": "input_matrix = [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12], [13, 14, 15, 16]], pool_size = 2",
    "output": "[[3.5, 5.5], [11.5, 13.5]]",
    "reasoning": "The 4x4 input is divided into four 2x2 non-overlapping regions. Top-left region [1,2,5,6] has mean (1+2+5+6)/4 = 3.5. Top-right region [3,4,7,8] has mean (3+4+7+8)/4 = 5.5. Bottom-left region [9,10,13,14] has mean (9+10+13+14)/4 = 11.5. Bottom-right region [11,12,15,16] has mean (11+12+15+16)/4 = 13.5."
  },
  "category": "Deep Learning",
  "starter_code": "def avg_pool_2d(input_matrix: list[list[float]], pool_size: int) -> list[list[float]]:\n\t\"\"\"\n\tPerform 2D average pooling on the input matrix.\n\t\n\tArgs:\n\t\tinput_matrix: 2D input array of shape (H, W)\n\t\tpool_size: Size of the square pooling window\n\t\t\n\tReturns:\n\t\t2D array after average pooling of shape (H//pool_size, W//pool_size)\n\t\"\"\"\n\t# Your code here\n\tpass",
  "title": "Implement 2D Average Pooling",
  "createdAt": "December 15, 2025 at 7:02:03â€¯AM UTC-0500",
  "contributor": [
    {
      "profile_link": "https://github.com/Open-Deep-ML",
      "name": "Deep-ML"
    }
  ],
  "learn_section": "IyMgVW5kZXJzdGFuZGluZyAyRCBBdmVyYWdlIFBvb2xpbmcKClBvb2xpbmcgbGF5ZXJzIGFyZSBhIGZ1bmRhbWVudGFsIGNvbXBvbmVudCBvZiBDb252b2x1dGlvbmFsIE5ldXJhbCBOZXR3b3JrcyAoQ05OcykuIFRoZXkgc2VydmUgdHdvIG1haW4gcHVycG9zZXM6CjEuICoqUmVkdWNlIHNwYXRpYWwgZGltZW5zaW9ucyoqIC0gZGVjcmVhc2luZyBjb21wdXRhdGlvbmFsIGxvYWQgZm9yIHN1YnNlcXVlbnQgbGF5ZXJzCjIuICoqUHJvdmlkZSB0cmFuc2xhdGlvbiBpbnZhcmlhbmNlKiogLSBtYWtpbmcgdGhlIG5ldHdvcmsgbW9yZSByb2J1c3QgdG8gc21hbGwgc2hpZnRzIGluIHRoZSBpbnB1dAoKIyMjIEF2ZXJhZ2UgUG9vbGluZyBPcGVyYXRpb24KCkF2ZXJhZ2UgcG9vbGluZyBkaXZpZGVzIHRoZSBpbnB1dCBpbnRvIG5vbi1vdmVybGFwcGluZyByZWN0YW5ndWxhciByZWdpb25zIGFuZCBjb21wdXRlcyB0aGUgKiphcml0aG1ldGljIG1lYW4qKiBvZiBlYWNoIHJlZ2lvbi4KCiMjIyBNYXRoZW1hdGljYWwgRm9ybXVsYXRpb24KCkdpdmVuIGFuIGlucHV0IG1hdHJpeCAkWCQgb2Ygc2hhcGUgJChILCBXKSQgYW5kIGEgcG9vbCBzaXplICRwJCwgdGhlIG91dHB1dCAkWSQgaGFzIHNoYXBlICQoSC9wLCBXL3ApJC4KCkZvciBlYWNoIG91dHB1dCBwb3NpdGlvbiAkKGksIGopJDoKCiQkWVtpLCBqXSA9IFxmcmFjezF9e3BeMn0gXHN1bV97bT0wfV57cC0xfSBcc3VtX3tuPTB9XntwLTF9IFhbaSBcY2RvdCBwICsgbSwgaiBcY2RvdCBwICsgbl0kJAoKV2hlcmU6Ci0gJHAkIGlzIHRoZSBwb29sIHNpemUgKGhlaWdodCBhbmQgd2lkdGggb2YgdGhlIHBvb2xpbmcgd2luZG93KQotICRpIFxjZG90IHAkIGFuZCAkaiBcY2RvdCBwJCBkZWZpbmUgdGhlIHRvcC1sZWZ0IGNvcm5lciBvZiBlYWNoIHBvb2xpbmcgcmVnaW9uCgojIyMgRXhhbXBsZSBDYWxjdWxhdGlvbgoKQ29uc2lkZXIgYSAkNCBcdGltZXMgNCQgaW5wdXQgd2l0aCBwb29sIHNpemUgJHAgPSAyJDoKCiQkWCA9IFxiZWdpbntibWF0cml4fSAxICYgMiAmIDMgJiA0IFxcIDUgJiA2ICYgNyAmIDggXFwgOSAmIDEwICYgMTEgJiAxMiBcXCAxMyAmIDE0ICYgMTUgJiAxNiBcZW5ke2JtYXRyaXh9JCQKClRoZSBpbnB1dCBpcyBkaXZpZGVkIGludG8gZm91ciAkMiBcdGltZXMgMiQgcmVnaW9uczoKCioqUmVnaW9uICgwLDApOioqICRcYmVnaW57Ym1hdHJpeH0gMSAmIDIgXFwgNSAmIDYgXGVuZHtibWF0cml4fSQgJFxyaWdodGFycm93JCBtZWFuICQ9IFxmcmFjezErMis1KzZ9ezR9ID0gMy41JAoKKipSZWdpb24gKDAsMSk6KiogJFxiZWdpbntibWF0cml4fSAzICYgNCBcXCA3ICYgOCBcZW5ke2JtYXRyaXh9JCAkXHJpZ2h0YXJyb3ckIG1lYW4gJD0gXGZyYWN7Mys0KzcrOH17NH0gPSA1LjUkCgoqKlJlZ2lvbiAoMSwwKToqKiAkXGJlZ2lue2JtYXRyaXh9IDkgJiAxMCBcXCAxMyAmIDE0IFxlbmR7Ym1hdHJpeH0kICRccmlnaHRhcnJvdyQgbWVhbiAkPSBcZnJhY3s5KzEwKzEzKzE0fXs0fSA9IDExLjUkCgoqKlJlZ2lvbiAoMSwxKToqKiAkXGJlZ2lue2JtYXRyaXh9IDExICYgMTIgXFwgMTUgJiAxNiBcZW5ke2JtYXRyaXh9JCAkXHJpZ2h0YXJyb3ckIG1lYW4gJD0gXGZyYWN7MTErMTIrMTUrMTZ9ezR9ID0gMTMuNSQKCiQkWSA9IFxiZWdpbntibWF0cml4fSAzLjUgJiA1LjUgXFwgMTEuNSAmIDEzLjUgXGVuZHtibWF0cml4fSQkCgojIyMgQXZlcmFnZSBQb29saW5nIHZzIE1heCBQb29saW5nCgp8IFByb3BlcnR5IHwgQXZlcmFnZSBQb29saW5nIHwgTWF4IFBvb2xpbmcgfAp8LS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tfAp8IE9wZXJhdGlvbiB8IENvbXB1dGVzIG1lYW4gfCBUYWtlcyBtYXhpbXVtIHwKfCBTZW5zaXRpdml0eSB8IENvbnNpZGVycyBhbGwgdmFsdWVzIGVxdWFsbHkgfCBPbmx5IGtlZXBzIHN0cm9uZ2VzdCBhY3RpdmF0aW9uIHwKfCBVc2UgY2FzZXMgfCBTbW9vdGggZG93bnNhbXBsaW5nIHwgRmVhdHVyZSBkZXRlY3Rpb24sIGVkZ2UgcHJlc2VydmF0aW9uIHwKCiMjIyBJbXBsZW1lbnRhdGlvbiBTdGVwcwoKMS4gQ2FsY3VsYXRlIG91dHB1dCBkaW1lbnNpb25zOiAkSF97b3V0fSA9IEggLyBwJCwgJFdfe291dH0gPSBXIC8gcCQKMi4gSW5pdGlhbGl6ZSBvdXRwdXQgbWF0cml4IG9mIHplcm9zCjMuIEZvciBlYWNoIG91dHB1dCBwb3NpdGlvbiAkKGksIGopJDoKICAgLSBFeHRyYWN0IHRoZSBjb3JyZXNwb25kaW5nICRwIFx0aW1lcyBwJCByZWdpb24gZnJvbSBpbnB1dAogICAtIENvbXB1dGUgdGhlIG1lYW4gb2YgdGhhdCByZWdpb24KICAgLSBTdG9yZSBpbiBvdXRwdXQgbWF0cml4",
  "description_decoded": "Implement a 2D average pooling operation commonly used in Convolutional Neural Networks. Given a 2D input matrix and a pool size, compute the average pooling output by dividing the input into non-overlapping square regions of the specified pool size and computing the mean value of each region. The pooling operation reduces the spatial dimensions of the input by a factor equal to the pool size. Assume the input dimensions are evenly divisible by the pool size.",
  "learn_section_decoded": "## Understanding 2D Average Pooling\n\nPooling layers are a fundamental component of Convolutional Neural Networks (CNNs). They serve two main purposes:\n1. **Reduce spatial dimensions** - decreasing computational load for subsequent layers\n2. **Provide translation invariance** - making the network more robust to small shifts in the input\n\n### Average Pooling Operation\n\nAverage pooling divides the input into non-overlapping rectangular regions and computes the **arithmetic mean** of each region.\n\n### Mathematical Formulation\n\nGiven an input matrix $X$ of shape $(H, W)$ and a pool size $p$, the output $Y$ has shape $(H/p, W/p)$.\n\nFor each output position $(i, j)$:\n\n$$Y[i, j] = \\frac{1}{p^2} \\sum_{m=0}^{p-1} \\sum_{n=0}^{p-1} X[i \\cdot p + m, j \\cdot p + n]$$\n\nWhere:\n- $p$ is the pool size (height and width of the pooling window)\n- $i \\cdot p$ and $j \\cdot p$ define the top-left corner of each pooling region\n\n### Example Calculation\n\nConsider a $4 \\times 4$ input with pool size $p = 2$:\n\n$$X = \\begin{bmatrix} 1 & 2 & 3 & 4 \\\\ 5 & 6 & 7 & 8 \\\\ 9 & 10 & 11 & 12 \\\\ 13 & 14 & 15 & 16 \\end{bmatrix}$$\n\nThe input is divided into four $2 \\times 2$ regions:\n\n**Region (0,0):** $\\begin{bmatrix} 1 & 2 \\\\ 5 & 6 \\end{bmatrix}$ $\\rightarrow$ mean $= \\frac{1+2+5+6}{4} = 3.5$\n\n**Region (0,1):** $\\begin{bmatrix} 3 & 4 \\\\ 7 & 8 \\end{bmatrix}$ $\\rightarrow$ mean $= \\frac{3+4+7+8}{4} = 5.5$\n\n**Region (1,0):** $\\begin{bmatrix} 9 & 10 \\\\ 13 & 14 \\end{bmatrix}$ $\\rightarrow$ mean $= \\frac{9+10+13+14}{4} = 11.5$\n\n**Region (1,1):** $\\begin{bmatrix} 11 & 12 \\\\ 15 & 16 \\end{bmatrix}$ $\\rightarrow$ mean $= \\frac{11+12+15+16}{4} = 13.5$\n\n$$Y = \\begin{bmatrix} 3.5 & 5.5 \\\\ 11.5 & 13.5 \\end{bmatrix}$$\n\n### Average Pooling vs Max Pooling\n\n| Property | Average Pooling | Max Pooling |\n|----------|-----------------|-------------|\n| Operation | Computes mean | Takes maximum |\n| Sensitivity | Considers all values equally | Only keeps strongest activation |\n| Use cases | Smooth downsampling | Feature detection, edge preservation |\n\n### Implementation Steps\n\n1. Calculate output dimensions: $H_{out} = H / p$, $W_{out} = W / p$\n2. Initialize output matrix of zeros\n3. For each output position $(i, j)$:\n   - Extract the corresponding $p \\times p$ region from input\n   - Compute the mean of that region\n   - Store in output matrix"
}