{
  "description": "V3JpdGUgYSBQeXRob24gZnVuY3Rpb24gdG8gY2FsY3VsYXRlIHRoZSB2YXJpYW5jZSBvZiBhIHBvcnRmb2xpbyBnaXZlbiBhIGNvdmFyaWFuY2UgbWF0cml4IG9mIGFzc2V0IHJldHVybnMgYW5kIGEgc2V0IG9mIHBvcnRmb2xpbyB3ZWlnaHRzLiBUaGUgZnVuY3Rpb24gc2hvdWxkIGVuc3VyZSB0aGF0IHRoZSBpbnB1dHMgYXJlIHZhbGlkIGFuZCBjb21wYXRpYmxlLCBhbmQgcmV0dXJuIGEgc2luZ2xlIGZsb2F0aW5nLXBvaW50IG51bWJlciByZXByZXNlbnRpbmcgdGhlIHZhcmlhbmNlLg==",
  "id": "183",
  "test_cases": [
    {
      "test": "print(round(calculate_portfolio_variance([[0.1, 0.02],[0.02,0.15]], [0.6,0.4]),4))",
      "expected_output": "0.0696"
    },
    {
      "test": "print(round(calculate_portfolio_variance([[0.05,0.01,0.0],[0.01,0.07,0.02],[0.0,0.02,0.1]], [0.5,0.3,0.2]),4))",
      "expected_output": "0.0282"
    }
  ],
  "difficulty": "easy",
  "pytorch_difficulty": "easy",
  "video": "",
  "likes": "0",
  "dislikes": "0",
  "example": {
    "input": "cov_matrix = [[0.1, 0.02], [0.02, 0.15]], weights = [0.6, 0.4]",
    "output": "0.0696",
    "reasoning": "The covariance between the two assets reduces the overall variance compared to a simple weighted average of individual variances."
  },
  "category": "Financial Engineering",
  "pytorch_starter_code": "aW1wb3J0IHRvcmNoCgpkZWYgY2FsY3VsYXRlX3BvcnRmb2xpb192YXJpYW5jZShjb3ZfbWF0cml4OiBsaXN0W2xpc3RbZmxvYXRdXSwgd2VpZ2h0czogbGlzdFtmbG9hdF0pIC0+IGZsb2F0OgogICAgIiIiCiAgICBDYWxjdWxhdGUgdGhlIHZhcmlhbmNlIG9mIGEgcG9ydGZvbGlvIHVzaW5nIFB5VG9yY2guCiAgICAiIiIKICAgICMgQ29udmVydCBpbnB1dHMgdG8gdGVuc29ycwogICAgY292X21hdHJpeCA9IHRvcmNoLnRlbnNvcihjb3ZfbWF0cml4LCBkdHlwZT10b3JjaC5mbG9hdCkKICAgIHdlaWdodHMgPSB0b3JjaC50ZW5zb3Iod2VpZ2h0cywgZHR5cGU9dG9yY2guZmxvYXQpCiAgICAjIFlvdXIgY29kZSBoZXJlCiAgICBwYXNz",
  "learn_section": "IyMgUG9ydGZvbGlvIFZhcmlhbmNlIGluIE1vZGVybiBQb3J0Zm9saW8gVGhlb3J5CgpJbiBmaW5hbmNlLCAqKnBvcnRmb2xpbyB2YXJpYW5jZSoqIG1lYXN1cmVzIHRoZSBvdmVyYWxsIHJpc2sgb2YgYSBwb3J0Zm9saW8gb2YgYXNzZXRzLiBJdCBhY2NvdW50cyBmb3Igbm90IG9ubHkgdGhlIHZhcmlhbmNlIG9mIGVhY2ggaW5kaXZpZHVhbCBhc3NldCBidXQgYWxzbyB0aGUgY292YXJpYW5jZXMgYmV0d2VlbiB0aGVtLgoKIyMjIEZvcm11bGEKSWYgYSBwb3J0Zm9saW8gaGFzICRuJCBhc3NldHMgd2l0aCB3ZWlnaHRzICR3XzEsIHdfMiwgXGRvdHMsIHdfbiQgYW5kIGNvdmFyaWFuY2UgbWF0cml4ICRcU2lnbWEkLCB0aGVuIHRoZSBwb3J0Zm9saW8gdmFyaWFuY2UgaXM6CgokJApcc2lnbWFfcF4yID0gXG1hdGhiZnt3fV5UIFxTaWdtYSBcbWF0aGJme3d9CiQkCgpXaGVyZToKLSAkXG1hdGhiZnt3fSQgaXMgdGhlIHdlaWdodCB2ZWN0b3Igb2Ygc2l6ZSAkbiQuCi0gJFxTaWdtYSQgaXMgdGhlICRuIFx0aW1lcyBuJCBjb3ZhcmlhbmNlIG1hdHJpeCBvZiBhc3NldCByZXR1cm5zLgoKIyMjIEV4YW1wbGUKRm9yIHR3byBhc3NldHMgd2l0aCB3ZWlnaHRzICR3ID0gWzAuNiwgMC40XSQgYW5kIGNvdmFyaWFuY2UgbWF0cml4OgokJApcU2lnbWEgPSBcYmVnaW57Ym1hdHJpeH0KMC4xICYgMC4wMiBcXAowLjAyICYgMC4xNQpcZW5ke2JtYXRyaXh9CiQkCgpUaGUgcG9ydGZvbGlvIHZhcmlhbmNlIGlzIGNvbXB1dGVkIGJ5IGFwcGx5aW5nIHRoZSBmb3JtdWxhIGFib3ZlLCB3aGljaCBnaXZlcyAkMC4wNjc2JC4K",
  "title": "Calculate Portfolio Variance",
  "contributor": [
    {
      "profile_link": "https://github.com/moe18",
      "name": "moe"
    }
  ],
  "pytorch_test_cases": [
    {
      "test": "print(round(calculate_portfolio_variance([[0.1,0.02],[0.02,0.15]], [0.6,0.4]),4))",
      "expected_output": "0.0696"
    },
    {
      "test": "print(round(calculate_portfolio_variance([[0.05,0.01,0.0],[0.01,0.07,0.02],[0.0,0.02,0.1]], [0.5,0.3,0.2]),4))",
      "expected_output": "0.0282"
    }
  ],
  "createdAt": "September 8, 2025 at 9:55:03â€¯AM UTUTC-4",
  "starter_code": "import numpy as np\n\ndef calculate_portfolio_variance(cov_matrix: list[list[float]], weights: list[float]) -> float:\n    \"\"\"\n    Calculate the variance of a portfolio.\n\n    Args:\n        cov_matrix (list[list[float]]): Covariance matrix of asset returns.\n        weights (list[float]): Portfolio weights.\n\n    Returns:\n        float: Portfolio variance.\n    \"\"\"\n    # Your code here\n    pass",
  "description_decoded": "Write a Python function to calculate the variance of a portfolio given a covariance matrix of asset returns and a set of portfolio weights. The function should ensure that the inputs are valid and compatible, and return a single floating-point number representing the variance.",
  "learn_section_decoded": "## Portfolio Variance in Modern Portfolio Theory\n\nIn finance, **portfolio variance** measures the overall risk of a portfolio of assets. It accounts for not only the variance of each individual asset but also the covariances between them.\n\n### Formula\nIf a portfolio has $n$ assets with weights $w_1, w_2, \\dots, w_n$ and covariance matrix $\\Sigma$, then the portfolio variance is:\n\n$$\n\\sigma_p^2 = \\mathbf{w}^T \\Sigma \\mathbf{w}\n$$\n\nWhere:\n- $\\mathbf{w}$ is the weight vector of size $n$.\n- $\\Sigma$ is the $n \\times n$ covariance matrix of asset returns.\n\n### Example\nFor two assets with weights $w = [0.6, 0.4]$ and covariance matrix:\n$$\n\\Sigma = \\begin{bmatrix}\n0.1 & 0.02 \\\\\n0.02 & 0.15\n\\end{bmatrix}\n$$\n\nThe portfolio variance is computed by applying the formula above, which gives $0.0676$.\n"
}