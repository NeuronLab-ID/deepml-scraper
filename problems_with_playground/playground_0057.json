{
  "problem_id": 57,
  "title": "Gauss-Seidel Method for Solving Linear Systems",
  "category": "Linear Algebra",
  "enabled": true,
  "type": "react",
  "code": "\nimport React, { useState, useMemo, useEffect } from 'react';\n\nconst theme = {\n  bg: '#0f172a',\n  surface: '#1e293b',\n  card: '#334155',\n  border: '#475569',\n  text: '#f8fafc',\n  muted: '#94a3b8',\n  dim: '#64748b',\n  gs: '#4ade80',\n  jacobi: '#f472b6',\n  x1: '#38bdf8',\n  x2: '#fbbf24',\n  target: '#a78bfa',\n};\n\nconst gaussSeidelStep = (A, b, x) => {\n  const xNew = [...x];\n  for (let i = 0; i < A.length; i++) {\n    let sum = b[i];\n    for (let j = 0; j < A.length; j++) {\n      if (i !== j) sum -= A[i][j] * xNew[j];\n    }\n    xNew[i] = sum / A[i][i];\n  }\n  return xNew;\n};\n\nconst jacobiStep = (A, b, x) => {\n  const xNew = [];\n  for (let i = 0; i < A.length; i++) {\n    let sum = b[i];\n    for (let j = 0; j < A.length; j++) {\n      if (i !== j) sum -= A[i][j] * x[j];\n    }\n    xNew[i] = sum / A[i][i];\n  }\n  return xNew;\n};\n\nconst runBoth = (A, b, maxIter) => {\n  let gsX = [0, 0], jacobiX = [0, 0];\n  const gsHistory = [[...gsX]];\n  const jacobiHistory = [[...jacobiX]];\n  \n  for (let i = 0; i < maxIter; i++) {\n    gsX = gaussSeidelStep(A, b, gsX);\n    jacobiX = jacobiStep(A, b, jacobiX);\n    gsHistory.push([...gsX]);\n    jacobiHistory.push([...jacobiX]);\n  }\n  \n  return { gsHistory, jacobiHistory };\n};\n\nconst distance = (x, target) => Math.sqrt((x[0] - target[0]) ** 2 + (x[1] - target[1]) ** 2);\n\nexport default function App() {\n  const [iteration, setIteration] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [showJacobi, setShowJacobi] = useState(true);\n\n  const A = [[4, 1], [1, 3]];\n  const b = [9, 7];\n  const target = [2, 5/3];\n  const maxIter = 8;\n\n  const { gsHistory, jacobiHistory } = useMemo(() => runBoth(A, b, maxIter), []);\n  \n  const gsX = gsHistory[iteration];\n  const jacobiX = jacobiHistory[iteration];\n  const gsError = distance(gsX, target);\n  const jacobiError = distance(jacobiX, target);\n\n  useEffect(() => {\n    if (isPlaying && iteration < maxIter) {\n      const timer = setTimeout(() => setIteration(i => i + 1), 1200);\n      return () => clearTimeout(timer);\n    } else if (iteration >= maxIter) {\n      setIsPlaying(false);\n    }\n  }, [isPlaying, iteration]);\n\n  const reset = () => {\n    setIteration(0);\n    setIsPlaying(false);\n  };\n\n  const svgW = 400, svgH = 320;\n  const margin = { top: 40, right: 40, bottom: 50, left: 60 };\n  const plotW = svgW - margin.left - margin.right;\n  const plotH = svgH - margin.top - margin.bottom;\n  \n  const xRange = [-0.3, 2.8];\n  const yRange = [-0.3, 2.8];\n  \n  const toX = (v) => margin.left + ((v - xRange[0]) / (xRange[1] - xRange[0])) * plotW;\n  const toY = (v) => margin.top + plotH - ((v - yRange[0]) / (yRange[1] - yRange[0])) * plotH;\n\n  const initialError = distance([0, 0], target);\n  const gsConvergence = Math.min(100, ((initialError - gsError) / initialError) * 100);\n  const jacobiConvergence = Math.min(100, ((initialError - jacobiError) / initialError) * 100);\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.header}>\n        <h1 style={styles.title}>Gauss-Seidel vs Jacobi</h1>\n        <p style={styles.subtitle}>See why using new values immediately makes convergence faster</p>\n      </div>\n\n      <div style={styles.systemBox}>\n        <div style={styles.systemEq}>\n          <span style={{color: theme.x1}}>4</span>x‚ÇÅ + <span style={{color: theme.x2}}>1</span>x‚ÇÇ = 9\n        </div>\n        <div style={styles.systemEq}>\n          <span style={{color: theme.x1}}>1</span>x‚ÇÅ + <span style={{color: theme.x2}}>3</span>x‚ÇÇ = 7\n        </div>\n      </div>\n\n      <div style={styles.vizSection}>\n        <svg width=\"100%\" viewBox={`0 0 ${svgW} ${svgH}`} style={styles.svg}>\n          {[0, 1, 2].map(v => (\n            <g key={v}>\n              <line x1={toX(v)} y1={margin.top} x2={toX(v)} y2={svgH - margin.bottom}\n                stroke={theme.border} strokeWidth=\"1\" opacity=\"0.3\" />\n              <line x1={margin.left} y1={toY(v)} x2={svgW - margin.right} y2={toY(v)}\n                stroke={theme.border} strokeWidth=\"1\" opacity=\"0.3\" />\n              <text x={toX(v)} y={svgH - margin.bottom + 20} textAnchor=\"middle\" \n                fill={theme.dim} fontSize=\"12\">{v}</text>\n              <text x={margin.left - 15} y={toY(v) + 4} textAnchor=\"end\" \n                fill={theme.dim} fontSize=\"12\">{v}</text>\n            </g>\n          ))}\n\n          <line x1={margin.left} y1={svgH - margin.bottom} x2={svgW - margin.right} y2={svgH - margin.bottom}\n            stroke={theme.muted} strokeWidth=\"2\" />\n          <line x1={margin.left} y1={margin.top} x2={margin.left} y2={svgH - margin.bottom}\n            stroke={theme.muted} strokeWidth=\"2\" />\n          <text x={svgW - margin.right + 10} y={svgH - margin.bottom + 5} fill={theme.x1} fontSize=\"14\" fontWeight=\"700\">x‚ÇÅ</text>\n          <text x={margin.left - 5} y={margin.top - 12} fill={theme.x2} fontSize=\"14\" fontWeight=\"700\">x‚ÇÇ</text>\n\n          <circle cx={toX(target[0])} cy={toY(target[1])} r=\"16\" fill=\"none\" \n            stroke={theme.target} strokeWidth=\"3\" strokeDasharray=\"6,3\" />\n          <circle cx={toX(target[0])} cy={toY(target[1])} r=\"5\" fill={theme.target} />\n          <text x={toX(target[0]) + 22} y={toY(target[1]) - 12} fill={theme.target} fontSize=\"12\" fontWeight=\"600\">\n            Solution\n          </text>\n\n          {showJacobi && jacobiHistory.slice(0, iteration + 1).map((x, i) => {\n            if (i === 0) return null;\n            const prev = jacobiHistory[i - 1];\n            return (\n              <line key={`j-${i}`} \n                x1={toX(prev[0])} y1={toY(prev[1])} x2={toX(x[0])} y2={toY(x[1])}\n                stroke={theme.jacobi} strokeWidth=\"2\" opacity=\"0.6\" strokeDasharray=\"4,3\"\n              />\n            );\n          })}\n\n          {gsHistory.slice(0, iteration + 1).map((x, i) => {\n            if (i === 0) return null;\n            const prev = gsHistory[i - 1];\n            return (\n              <g key={`gs-${i}`}>\n                <line x1={toX(prev[0])} y1={toY(prev[1])} x2={toX(x[0])} y2={toY(prev[1])}\n                  stroke={theme.x1} strokeWidth=\"3\" opacity=\"0.8\" />\n                <line x1={toX(x[0])} y1={toY(prev[1])} x2={toX(x[0])} y2={toY(x[1])}\n                  stroke={theme.x2} strokeWidth=\"3\" opacity=\"0.8\" />\n              </g>\n            );\n          })}\n\n          {showJacobi && (\n            <g>\n              <circle cx={toX(jacobiX[0])} cy={toY(jacobiX[1])} r=\"10\"\n                fill={theme.jacobi} stroke={theme.bg} strokeWidth=\"3\" />\n              <text x={toX(jacobiX[0])} y={toY(jacobiX[1]) + 25} textAnchor=\"middle\"\n                fill={theme.jacobi} fontSize=\"10\" fontWeight=\"600\">Jacobi</text>\n            </g>\n          )}\n\n          <g>\n            <circle cx={toX(gsX[0])} cy={toY(gsX[1])} r=\"12\"\n              fill={theme.gs} stroke={theme.bg} strokeWidth=\"3\" />\n            <text x={toX(gsX[0])} y={toY(gsX[1]) - 18} textAnchor=\"middle\"\n              fill={theme.gs} fontSize=\"11\" fontWeight=\"600\">Gauss-Seidel</text>\n          </g>\n\n          <circle cx={toX(0)} cy={toY(0)} r=\"6\" fill={theme.dim} />\n          <text x={toX(0) + 10} y={toY(0) + 15} fill={theme.dim} fontSize=\"10\">start</text>\n\n          <text x={svgW / 2} y={20} textAnchor=\"middle\" fill={theme.text} fontSize=\"14\" fontWeight=\"600\">\n            Iteration {iteration}\n          </text>\n        </svg>\n\n        <div style={styles.toggleRow}>\n          <label style={styles.toggle}>\n            <input type=\"checkbox\" checked={showJacobi} onChange={e => setShowJacobi(e.target.checked)} />\n            <span style={{marginLeft: 8}}>Show Jacobi comparison</span>\n          </label>\n        </div>\n      </div>\n\n      <div style={styles.raceSection}>\n        <div style={styles.raceTitle}>üèÅ Convergence Race</div>\n        <div style={styles.raceRow}>\n          <div style={styles.racerLabel}>\n            <span style={{color: theme.gs}}>‚óè</span> Gauss-Seidel\n          </div>\n          <div style={styles.progressTrack}>\n            <div style={{...styles.progressBar, width: `${gsConvergence}%`, background: theme.gs}} />\n          </div>\n          <div style={styles.racerPct}>{gsConvergence.toFixed(1)}%</div>\n        </div>\n        {showJacobi && (\n          <div style={styles.raceRow}>\n            <div style={styles.racerLabel}>\n              <span style={{color: theme.jacobi}}>‚óè</span> Jacobi\n            </div>\n            <div style={styles.progressTrack}>\n              <div style={{...styles.progressBar, width: `${jacobiConvergence}%`, background: theme.jacobi}} />\n            </div>\n            <div style={styles.racerPct}>{jacobiConvergence.toFixed(1)}%</div>\n          </div>\n        )}\n      </div>\n\n      <div style={styles.valuesRow}>\n        <div style={{...styles.valueCard, borderColor: theme.gs}}>\n          <div style={styles.valueTitle}>Gauss-Seidel</div>\n          <div style={styles.valueGrid}>\n            <div>\n              <span style={styles.varLabel}>x‚ÇÅ</span>\n              <span style={{...styles.varValue, color: theme.x1}}>{gsX[0].toFixed(4)}</span>\n            </div>\n            <div>\n              <span style={styles.varLabel}>x‚ÇÇ</span>\n              <span style={{...styles.varValue, color: theme.x2}}>{gsX[1].toFixed(4)}</span>\n            </div>\n          </div>\n          <div style={styles.errorRow}>\n            Error: <span style={{color: theme.gs}}>{gsError.toFixed(5)}</span>\n          </div>\n        </div>\n        \n        {showJacobi && (\n          <div style={{...styles.valueCard, borderColor: theme.jacobi}}>\n            <div style={styles.valueTitle}>Jacobi</div>\n            <div style={styles.valueGrid}>\n              <div>\n                <span style={styles.varLabel}>x‚ÇÅ</span>\n                <span style={{...styles.varValue, color: theme.x1}}>{jacobiX[0].toFixed(4)}</span>\n              </div>\n              <div>\n                <span style={styles.varLabel}>x‚ÇÇ</span>\n                <span style={{...styles.varValue, color: theme.x2}}>{jacobiX[1].toFixed(4)}</span>\n              </div>\n            </div>\n            <div style={styles.errorRow}>\n              Error: <span style={{color: theme.jacobi}}>{jacobiError.toFixed(5)}</span>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <div style={styles.controls}>\n        <button onClick={reset} style={styles.btn}>‚Ü∫ Reset</button>\n        <button onClick={() => setIteration(i => Math.max(0, i - 1))} style={styles.btn} disabled={iteration === 0}>‚Üê</button>\n        <button \n          onClick={() => setIsPlaying(!isPlaying)} \n          style={{...styles.playBtn, background: isPlaying ? theme.jacobi : theme.gs}}\n        >\n          {isPlaying ? '‚è∏ Pause' : '‚ñ∂ Play'}\n        </button>\n        <button onClick={() => setIteration(i => Math.min(maxIter, i + 1))} style={styles.btn} disabled={iteration >= maxIter}>‚Üí</button>\n      </div>\n\n      <div style={styles.keyDiff}>\n        <div style={styles.keyTitle}>üîë Why Gauss-Seidel is faster</div>\n        <div style={styles.keyContent}>\n          <div style={styles.methodBox}>\n            <div style={{...styles.methodName, color: theme.gs}}>Gauss-Seidel</div>\n            <div style={styles.methodDesc}>\n              When computing x‚ÇÇ, uses the <span style={{color: theme.x1, fontWeight: 700}}>new x‚ÇÅ</span> just calculated.\n            </div>\n            <div style={styles.methodFormula}>\n              x‚ÇÇ = (7 ‚àí 1¬∑<span style={{color: theme.x1, background: `${theme.x1}30`, padding: '0 4px', borderRadius: 3}}>x‚ÇÅ·¥∫·¥±·µÇ</span>) / 3\n            </div>\n          </div>\n          <div style={styles.methodBox}>\n            <div style={{...styles.methodName, color: theme.jacobi}}>Jacobi</div>\n            <div style={styles.methodDesc}>\n              Always uses <span style={{color: theme.dim}}>old values</span> from previous iteration.\n            </div>\n            <div style={styles.methodFormula}>\n              x‚ÇÇ = (7 ‚àí 1¬∑<span style={{color: theme.dim, background: `${theme.dim}30`, padding: '0 4px', borderRadius: 3}}>x‚ÇÅ·¥º·¥∏·¥∞</span>) / 3\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: {\n    fontFamily: \"'Inter', -apple-system, sans-serif\",\n    background: theme.bg,\n    color: theme.text,\n    padding: 16,\n    maxWidth: 540,\n    margin: '0 auto',\n    minHeight: '100vh',\n  },\n  header: { textAlign: 'center', marginBottom: 14 },\n  title: { fontSize: 22, fontWeight: 700, margin: 0 },\n  subtitle: { fontSize: 12, color: theme.muted, margin: '6px 0 0' },\n\n  systemBox: {\n    display: 'flex', justifyContent: 'center', gap: 30,\n    background: theme.surface, borderRadius: 12, padding: 14, marginBottom: 14,\n  },\n  systemEq: { fontSize: 18, fontFamily: 'monospace' },\n\n  vizSection: {\n    background: theme.surface, borderRadius: 14, padding: 12, marginBottom: 14,\n  },\n  svg: { display: 'block' },\n  toggleRow: {\n    display: 'flex', justifyContent: 'center', marginTop: 10,\n  },\n  toggle: {\n    display: 'flex', alignItems: 'center', fontSize: 12, color: theme.muted, cursor: 'pointer',\n  },\n\n  raceSection: {\n    background: theme.surface, borderRadius: 12, padding: 14, marginBottom: 14,\n  },\n  raceTitle: { fontSize: 13, fontWeight: 600, textAlign: 'center', marginBottom: 12 },\n  raceRow: {\n    display: 'flex', alignItems: 'center', gap: 12, marginBottom: 8,\n  },\n  racerLabel: { width: 110, fontSize: 11, display: 'flex', alignItems: 'center', gap: 6 },\n  progressTrack: {\n    flex: 1, height: 12, background: theme.card, borderRadius: 6, overflow: 'hidden',\n  },\n  progressBar: {\n    height: '100%', borderRadius: 6, transition: 'width 0.5s ease',\n  },\n  racerPct: { width: 50, fontSize: 12, fontWeight: 600, textAlign: 'right' },\n\n  valuesRow: {\n    display: 'flex', gap: 12, marginBottom: 14,\n  },\n  valueCard: {\n    flex: 1, background: theme.surface, borderRadius: 12, padding: 14,\n    border: '2px solid', borderColor: theme.border,\n  },\n  valueTitle: { fontSize: 12, fontWeight: 600, textAlign: 'center', marginBottom: 10 },\n  valueGrid: { display: 'flex', justifyContent: 'space-around', marginBottom: 10 },\n  varLabel: { fontSize: 10, color: theme.dim, marginRight: 6 },\n  varValue: { fontSize: 16, fontWeight: 700, fontFamily: 'monospace' },\n  errorRow: { fontSize: 10, color: theme.muted, textAlign: 'center' },\n\n  controls: {\n    display: 'flex', justifyContent: 'center', gap: 10, marginBottom: 16,\n  },\n  btn: {\n    padding: '10px 16px', borderRadius: 8, border: 'none',\n    background: theme.card, color: theme.text, cursor: 'pointer',\n    fontSize: 14, fontWeight: 600,\n  },\n  playBtn: {\n    padding: '10px 24px', borderRadius: 8, border: 'none',\n    color: '#000', cursor: 'pointer', fontSize: 14, fontWeight: 700,\n  },\n\n  keyDiff: {\n    background: theme.surface, borderRadius: 14, padding: 16,\n  },\n  keyTitle: { fontSize: 14, fontWeight: 700, textAlign: 'center', marginBottom: 14 },\n  keyContent: { display: 'flex', gap: 12 },\n  methodBox: {\n    flex: 1, background: theme.card, borderRadius: 10, padding: 12,\n  },\n  methodName: { fontSize: 12, fontWeight: 700, marginBottom: 8 },\n  methodDesc: { fontSize: 11, color: theme.muted, lineHeight: 1.5, marginBottom: 10 },\n  methodFormula: {\n    fontSize: 12, fontFamily: 'monospace', color: theme.text,\n    background: theme.surface, padding: 8, borderRadius: 6, textAlign: 'center',\n  },\n};\n",
  "settings": {
    "editorHeight": 600,
    "showEditor": false,
    "theme": "auto",
    "showConsole": false,
    "showPreview": true,
    "editorWidthPercentage": 35
  },
  "dependencies": {}
}