{
  "problem_id": 25,
  "title": "Single Neuron with Backpropagation",
  "category": "Deep Learning",
  "enabled": true,
  "type": "react",
  "code": "import React, { useState, useMemo } from 'react';\n\nconst theme = {\n  colors: {\n    primary: '#8b5cf6',\n    background: '#0a0a0a',\n    surface: '#111111',\n    surfaceAlt: '#1a1a1a',\n    border: '#2a2a2a',\n    text: '#fafafa',\n    textSecondary: '#a1a1aa',\n    textMuted: '#52525b',\n    positive: '#10b981',\n    negative: '#f43f5e',\n    blue: '#38bdf8',\n    yellow: '#fbbf24',\n    pink: '#f472b6',\n    green: '#a3e635',\n    orange: '#fb923c',\n  },\n  font: \"'JetBrains Mono', monospace\",\n};\n\nconst sigmoid = (x) => 1 / (1 + Math.exp(-Math.max(-500, Math.min(500, x))));\n\nexport default function App() {\n  const [step, setStep] = useState(0);\n  const [playing, setPlaying] = useState(false);\n  const [weights, setWeights] = useState([0.5, -0.3]);\n  const [bias, setBias] = useState(0.1);\n  const [lr, setLr] = useState(0.5);\n  const [epoch, setEpoch] = useState(0);\n\n  // Single training example for clarity\n  const x = [1.0, 2.0];\n  const y = 1; // true label\n\n  const numSteps = 6;\n\n  const compute = useMemo(() => {\n    // Forward pass\n    const z = x[0] * weights[0] + x[1] * weights[1] + bias;\n    const a = sigmoid(z);\n    const loss = Math.pow(a - y, 2);\n\n    // Backward pass - chain rule step by step\n    const dLoss_da = 2 * (a - y);                    // dL/da\n    const da_dz = a * (1 - a);                        // da/dz (sigmoid derivative)\n    const dLoss_dz = dLoss_da * da_dz;               // dL/dz = dL/da * da/dz\n    \n    const dz_dw1 = x[0];                              // dz/dw1 = x1\n    const dz_dw2 = x[1];                              // dz/dw2 = x2\n    const dz_db = 1;                                  // dz/db = 1\n    \n    const dLoss_dw1 = dLoss_dz * dz_dw1;             // dL/dw1\n    const dLoss_dw2 = dLoss_dz * dz_dw2;             // dL/dw2\n    const dLoss_db = dLoss_dz * dz_db;               // dL/db\n\n    // Updated weights\n    const newW1 = weights[0] - lr * dLoss_dw1;\n    const newW2 = weights[1] - lr * dLoss_dw2;\n    const newB = bias - lr * dLoss_db;\n\n    return { z, a, loss, dLoss_da, da_dz, dLoss_dz, dz_dw1, dz_dw2, dz_db, dLoss_dw1, dLoss_dw2, dLoss_db, newW1, newW2, newB };\n  }, [weights, bias, lr]);\n\n  const { z, a, loss, dLoss_da, da_dz, dLoss_dz, dLoss_dw1, dLoss_dw2, dLoss_db, newW1, newW2, newB } = compute;\n\n  const stepInfo = [\n    { title: 'Explore', desc: 'Set initial weights, bias, and learning rate', color: theme.colors.primary },\n    { title: 'Forward: Sum', desc: 'Compute weighted sum z = w1*x1 + w2*x2 + b', color: theme.colors.blue },\n    { title: 'Forward: Activate', desc: 'Apply sigmoid: a = 1/(1+e^-z)', color: theme.colors.yellow },\n    { title: 'Compute Loss', desc: 'Squared error: L = (a - y)^2', color: theme.colors.pink },\n    { title: 'Backprop', desc: 'Chain rule: dL/dw = dL/da * da/dz * dz/dw', color: theme.colors.orange },\n    { title: 'Update', desc: 'Gradient descent: w_new = w - alpha * dL/dw', color: theme.colors.green },\n  ];\n\n  const play = async () => {\n    setPlaying(true);\n    for (let s = 0; s < numSteps; s++) {\n      setStep(s);\n      await new Promise(r => setTimeout(r, 1500));\n    }\n    setPlaying(false);\n  };\n\n  const reset = () => {\n    setStep(0);\n    setPlaying(false);\n    setWeights([0.5, -0.3]);\n    setBias(0.1);\n    setLr(0.5);\n    setEpoch(0);\n  };\n\n  const applyUpdate = () => {\n    setWeights([newW1, newW2]);\n    setBias(newB);\n    setEpoch(e => e + 1);\n    setStep(0);\n  };\n\n  return (\n    <div style={{ background: theme.colors.background, minHeight: '100vh', padding: '12px', fontFamily: theme.font, color: theme.colors.text }}>\n      \n      {/* Header */}\n      <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: '10px' }}>\n        <div>\n          <div style={{ fontSize: '18px', fontWeight: '700' }}>Backpropagation</div>\n          <div style={{ fontSize: '12px', color: theme.colors.textSecondary }}>Epoch {epoch} | Loss: {loss.toFixed(4)}</div>\n        </div>\n        <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>\n          <button onClick={() => setStep(Math.max(0, step - 1))} disabled={step === 0}\n            style={{ padding: '6px 12px', background: theme.colors.surface, border: 'none', borderRadius: '6px',\n              color: step === 0 ? theme.colors.textMuted : theme.colors.text, fontSize: '14px', cursor: 'pointer' }}>{'<'}</button>\n          <div style={{ display: 'flex', gap: '5px' }}>\n            {Array.from({ length: numSteps }, (_, i) => (\n              <div key={i} onClick={() => setStep(i)} style={{\n                width: i === step ? '18px' : '10px', height: '10px', borderRadius: '5px',\n                background: i <= step ? stepInfo[i].color : theme.colors.border, cursor: 'pointer'\n              }} />\n            ))}\n          </div>\n          <button onClick={() => setStep(Math.min(numSteps - 1, step + 1))} disabled={step === numSteps - 1}\n            style={{ padding: '6px 12px', background: step === numSteps - 1 ? theme.colors.surface : theme.colors.primary,\n              border: 'none', borderRadius: '6px', color: theme.colors.text, fontSize: '14px', cursor: 'pointer' }}>{'>'}</button>\n          <button onClick={play} disabled={playing}\n            style={{ padding: '6px 12px', background: playing ? theme.colors.green : theme.colors.surface,\n              border: 'none', borderRadius: '6px', color: playing ? theme.colors.background : theme.colors.text,\n              fontSize: '12px', cursor: 'pointer' }}>{playing ? '...' : 'Play'}</button>\n          <button onClick={reset}\n            style={{ padding: '6px 10px', background: theme.colors.surface, border: 'none', borderRadius: '6px',\n              color: theme.colors.textSecondary, fontSize: '14px', cursor: 'pointer' }}>~</button>\n        </div>\n      </div>\n\n      {/* Step info */}\n      <div style={{ padding: '8px 12px', background: theme.colors.surface, borderLeft: `3px solid ${stepInfo[step].color}`,\n        borderRadius: '0 6px 6px 0', marginBottom: '10px' }}>\n        <span style={{ fontWeight: '600', color: stepInfo[step].color, fontSize: '14px' }}>{stepInfo[step].title}: </span>\n        <span style={{ color: theme.colors.textSecondary, fontSize: '13px' }}>{stepInfo[step].desc}</span>\n      </div>\n\n      {/* Main Network Visualization */}\n      <div style={{ background: theme.colors.surface, borderRadius: '10px', padding: '8px', marginBottom: '10px' }}>\n        <svg viewBox=\"0 0 580 200\" style={{ width: '100%', height: '200px' }}>\n          <rect x=\"0\" y=\"0\" width=\"580\" height=\"200\" fill={theme.colors.surfaceAlt} rx=\"8\" />\n\n          {/* FORWARD CONNECTIONS */}\n          {/* x1 to sum */}\n          <line x1=\"85\" y1=\"60\" x2=\"195\" y2=\"100\" stroke={step >= 1 ? theme.colors.blue : theme.colors.border} strokeWidth={step >= 1 ? 3 : 2} strokeDasharray={step >= 1 ? 'none' : '5,5'} />\n          {/* x2 to sum */}\n          <line x1=\"85\" y1=\"140\" x2=\"195\" y2=\"100\" stroke={step >= 1 ? theme.colors.blue : theme.colors.border} strokeWidth={step >= 1 ? 3 : 2} strokeDasharray={step >= 1 ? 'none' : '5,5'} />\n          {/* bias to sum */}\n          <line x1=\"220\" y1=\"35\" x2=\"220\" y2=\"70\" stroke={step >= 1 ? theme.colors.orange : theme.colors.border} strokeWidth={step >= 1 ? 2 : 1.5} strokeDasharray={step >= 1 ? 'none' : '5,5'} />\n          {/* sum to sigmoid */}\n          <line x1=\"250\" y1=\"100\" x2=\"310\" y2=\"100\" stroke={step >= 2 ? theme.colors.yellow : theme.colors.border} strokeWidth={step >= 2 ? 3 : 2} strokeDasharray={step >= 2 ? 'none' : '5,5'} />\n          {/* sigmoid to loss */}\n          <line x1=\"370\" y1=\"100\" x2=\"430\" y2=\"100\" stroke={step >= 3 ? theme.colors.pink : theme.colors.border} strokeWidth={step >= 3 ? 3 : 2} strokeDasharray={step >= 3 ? 'none' : '5,5'} />\n\n          {/* Weight labels */}\n          {step >= 1 && (\n            <>\n              <rect x=\"110\" y=\"55\" width=\"55\" height=\"20\" rx=\"4\" fill={theme.colors.blue + '40'} />\n              <text x=\"137\" y=\"70\" textAnchor=\"middle\" fill={theme.colors.blue} fontSize=\"12\" fontWeight=\"600\">w1={weights[0].toFixed(2)}</text>\n              <rect x=\"110\" y=\"120\" width=\"55\" height=\"20\" rx=\"4\" fill={theme.colors.blue + '40'} />\n              <text x=\"137\" y=\"135\" textAnchor=\"middle\" fill={theme.colors.blue} fontSize=\"12\" fontWeight=\"600\">w2={weights[1].toFixed(2)}</text>\n            </>\n          )}\n\n          {/* Bias label */}\n          {step >= 1 && (\n            <>\n              <rect x=\"195\" y=\"15\" width=\"50\" height=\"18\" rx=\"4\" fill={theme.colors.orange + '40'} />\n              <text x=\"220\" y=\"28\" textAnchor=\"middle\" fill={theme.colors.orange} fontSize=\"11\" fontWeight=\"600\">b={bias.toFixed(2)}</text>\n            </>\n          )}\n\n          {/* BACKPROP GRADIENT ARROWS */}\n          {step >= 4 && (\n            <>\n              {/* Arrow marker */}\n              <defs>\n                <marker id=\"gradArrow\" markerWidth=\"8\" markerHeight=\"6\" refX=\"8\" refY=\"3\" orient=\"auto\">\n                  <polygon points=\"0 0, 8 3, 0 6\" fill={theme.colors.orange} />\n                </marker>\n              </defs>\n              \n              {/* Loss to Sigmoid gradient */}\n              <line x1=\"428\" y1=\"82\" x2=\"375\" y2=\"82\" stroke={theme.colors.orange} strokeWidth=\"2.5\" markerEnd=\"url(#gradArrow)\" />\n              <rect x=\"385\" y=\"62\" width=\"56\" height=\"18\" rx=\"4\" fill={theme.colors.orange + '35'} stroke={theme.colors.orange} />\n              <text x=\"413\" y=\"75\" textAnchor=\"middle\" fill={theme.colors.orange} fontSize=\"10\" fontWeight=\"700\">{dLoss_da.toFixed(3)}</text>\n              \n              {/* Sigmoid to Sum gradient */}\n              <line x1=\"308\" y1=\"82\" x2=\"255\" y2=\"82\" stroke={theme.colors.orange} strokeWidth=\"2.5\" markerEnd=\"url(#gradArrow)\" />\n              <rect x=\"265\" y=\"62\" width=\"56\" height=\"18\" rx=\"4\" fill={theme.colors.orange + '35'} stroke={theme.colors.orange} />\n              <text x=\"293\" y=\"75\" textAnchor=\"middle\" fill={theme.colors.orange} fontSize=\"10\" fontWeight=\"700\">{dLoss_dz.toFixed(3)}</text>\n              \n              {/* Sum to w1 gradient */}\n              <line x1=\"198\" y1=\"78\" x2=\"158\" y2=\"52\" stroke={theme.colors.orange} strokeWidth=\"2\" strokeDasharray=\"4,3\" />\n              <rect x=\"130\" y=\"32\" width=\"70\" height=\"18\" rx=\"4\" fill={theme.colors.orange + '30'} stroke={theme.colors.orange} />\n              <text x=\"165\" y=\"45\" textAnchor=\"middle\" fill={theme.colors.orange} fontSize=\"10\" fontWeight=\"600\">dL/dw1={dLoss_dw1.toFixed(3)}</text>\n              \n              {/* Sum to w2 gradient */}\n              <line x1=\"198\" y1=\"122\" x2=\"158\" y2=\"152\" stroke={theme.colors.orange} strokeWidth=\"2\" strokeDasharray=\"4,3\" />\n              <rect x=\"130\" y=\"152\" width=\"70\" height=\"18\" rx=\"4\" fill={theme.colors.orange + '30'} stroke={theme.colors.orange} />\n              <text x=\"165\" y=\"165\" textAnchor=\"middle\" fill={theme.colors.orange} fontSize=\"10\" fontWeight=\"600\">dL/dw2={dLoss_dw2.toFixed(3)}</text>\n            </>\n          )}\n\n          {/* INPUT NODES */}\n          <circle cx=\"60\" cy=\"60\" r=\"24\" fill={theme.colors.surfaceAlt} stroke={theme.colors.blue} strokeWidth=\"2.5\" />\n          <text x=\"60\" y=\"55\" textAnchor=\"middle\" fill={theme.colors.textMuted} fontSize=\"11\">x1</text>\n          <text x=\"60\" y=\"70\" textAnchor=\"middle\" fill={theme.colors.blue} fontSize=\"14\" fontWeight=\"bold\">{x[0]}</text>\n\n          <circle cx=\"60\" cy=\"140\" r=\"24\" fill={theme.colors.surfaceAlt} stroke={theme.colors.blue} strokeWidth=\"2.5\" />\n          <text x=\"60\" y=\"135\" textAnchor=\"middle\" fill={theme.colors.textMuted} fontSize=\"11\">x2</text>\n          <text x=\"60\" y=\"150\" textAnchor=\"middle\" fill={theme.colors.blue} fontSize=\"14\" fontWeight=\"bold\">{x[1]}</text>\n\n          {/* SUM NODE */}\n          <circle cx=\"220\" cy=\"100\" r=\"28\" fill={step >= 1 ? theme.colors.blue + '25' : theme.colors.surfaceAlt} stroke={step >= 1 ? theme.colors.blue : theme.colors.border} strokeWidth=\"3\" />\n          <text x=\"220\" y=\"95\" textAnchor=\"middle\" fill={theme.colors.textMuted} fontSize=\"14\">Sum</text>\n          {step >= 1 && <text x=\"220\" y=\"112\" textAnchor=\"middle\" fill={theme.colors.blue} fontSize=\"13\" fontWeight=\"bold\">{z.toFixed(3)}</text>}\n\n          {/* SIGMOID NODE */}\n          <circle cx=\"340\" cy=\"100\" r=\"28\" fill={step >= 2 ? theme.colors.yellow + '25' : theme.colors.surfaceAlt} stroke={step >= 2 ? theme.colors.yellow : theme.colors.border} strokeWidth=\"3\" />\n          <text x=\"340\" y=\"95\" textAnchor=\"middle\" fill={theme.colors.textMuted} fontSize=\"14\">sig</text>\n          {step >= 2 && <text x=\"340\" y=\"112\" textAnchor=\"middle\" fill={theme.colors.yellow} fontSize=\"13\" fontWeight=\"bold\">{a.toFixed(4)}</text>}\n\n          {/* LOSS NODE */}\n          <circle cx=\"460\" cy=\"100\" r=\"28\" fill={step >= 3 ? theme.colors.pink + '25' : theme.colors.surfaceAlt} stroke={step >= 3 ? theme.colors.pink : theme.colors.border} strokeWidth=\"3\" />\n          <text x=\"460\" y=\"95\" textAnchor=\"middle\" fill={theme.colors.textMuted} fontSize=\"12\">Loss</text>\n          {step >= 3 && <text x=\"460\" y=\"112\" textAnchor=\"middle\" fill={theme.colors.pink} fontSize=\"13\" fontWeight=\"bold\">{loss.toFixed(4)}</text>}\n\n          {/* TRUE LABEL */}\n          <rect x=\"435\" y=\"145\" width=\"50\" height=\"24\" rx=\"6\" fill={theme.colors.positive + '20'} stroke={theme.colors.positive} strokeWidth=\"2\" />\n          <text x=\"460\" y=\"162\" textAnchor=\"middle\" fill={theme.colors.positive} fontSize=\"13\" fontWeight=\"bold\">y={y}</text>\n\n          {/* UPDATED VALUES */}\n          {step >= 5 && (\n            <>\n              <rect x=\"510\" y=\"25\" width=\"65\" height=\"75\" rx=\"6\" fill={theme.colors.green + '20'} stroke={theme.colors.green} strokeWidth=\"2\" />\n              <text x=\"542\" y=\"42\" textAnchor=\"middle\" fill={theme.colors.green} fontSize=\"11\" fontWeight=\"bold\">NEW</text>\n              <text x=\"542\" y=\"58\" textAnchor=\"middle\" fill={theme.colors.green} fontSize=\"10\">w1={newW1.toFixed(3)}</text>\n              <text x=\"542\" y=\"73\" textAnchor=\"middle\" fill={theme.colors.green} fontSize=\"10\">w2={newW2.toFixed(3)}</text>\n              <text x=\"542\" y=\"88\" textAnchor=\"middle\" fill={theme.colors.green} fontSize=\"10\">b={newB.toFixed(3)}</text>\n            </>\n          )}\n\n          {/* NODE LABELS */}\n          <text x=\"60\" y=\"185\" textAnchor=\"middle\" fill={theme.colors.textMuted} fontSize=\"11\">Inputs</text>\n          <text x=\"220\" y=\"185\" textAnchor=\"middle\" fill={theme.colors.textMuted} fontSize=\"11\">Weighted Sum</text>\n          <text x=\"340\" y=\"185\" textAnchor=\"middle\" fill={theme.colors.textMuted} fontSize=\"11\">Activation</text>\n          <text x=\"460\" y=\"185\" textAnchor=\"middle\" fill={theme.colors.textMuted} fontSize=\"11\">Loss</text>\n        </svg>\n      </div>\n\n      {/* Parameters + Chain Rule side by side */}\n      <div style={{ display: 'flex', gap: '10px', marginBottom: '10px' }}>\n        \n        {/* Parameters Panel */}\n        <div style={{ flex: 1, background: theme.colors.surface, borderRadius: '8px', padding: '12px',\n          border: step === 0 ? `2px solid ${theme.colors.primary}` : `1px solid ${theme.colors.border}` }}>\n          <div style={{ fontSize: '12px', color: theme.colors.textMuted, marginBottom: '10px' }}>\n            Parameters {step === 0 && <span style={{ color: theme.colors.primary }}>(adjust)</span>}\n          </div>\n          {[{ name: 'w1', val: weights[0], set: v => setWeights([v, weights[1]]), col: theme.colors.blue },\n            { name: 'w2', val: weights[1], set: v => setWeights([weights[0], v]), col: theme.colors.blue },\n            { name: 'b', val: bias, set: setBias, col: theme.colors.orange },\n            { name: 'lr', val: lr, set: setLr, col: theme.colors.primary, min: 0.1, max: 1, step: 0.1 }]\n            .map((p, i) => (\n              <div key={i} style={{ display: 'flex', alignItems: 'center', gap: '8px', marginBottom: '6px' }}>\n                <span style={{ width: '24px', fontSize: '13px', color: p.col, fontWeight: '600' }}>{p.name}</span>\n                <input type=\"range\" min={p.min || -2} max={p.max || 2} step={p.step || 0.1} value={p.val}\n                  onChange={e => p.set(parseFloat(e.target.value))} disabled={step > 0}\n                  style={{ flex: 1, accentColor: p.col, opacity: step > 0 ? 0.4 : 1 }} />\n                <span style={{ width: '44px', fontSize: '14px', color: p.col, textAlign: 'right', fontWeight: '600' }}>\n                  {p.val.toFixed(2)}\n                </span>\n              </div>\n            ))}\n        </div>\n\n        {/* Chain Rule Breakdown */}\n        <div style={{ flex: 1.5, background: theme.colors.surface, borderRadius: '8px', padding: '12px' }}>\n          <div style={{ fontSize: '12px', color: theme.colors.textMuted, marginBottom: '8px' }}>\n            {step >= 4 ? 'Chain Rule Breakdown' : 'Forward Pass'}\n          </div>\n          \n          {step >= 1 && step < 4 && (\n            <div style={{ fontSize: '13px', color: theme.colors.textSecondary, lineHeight: 1.9 }}>\n              {step >= 1 && (\n                <div><span style={{ color: theme.colors.blue }}>z</span> = {weights[0].toFixed(2)}*{x[0]} + {weights[1].toFixed(2)}*{x[1]} + {bias.toFixed(2)} = <span style={{ color: theme.colors.blue, fontWeight: '700' }}>{z.toFixed(4)}</span></div>\n              )}\n              {step >= 2 && (\n                <div><span style={{ color: theme.colors.yellow }}>a</span> = sigmoid({z.toFixed(3)}) = <span style={{ color: theme.colors.yellow, fontWeight: '700' }}>{a.toFixed(4)}</span></div>\n              )}\n              {step >= 3 && (\n                <div><span style={{ color: theme.colors.pink }}>L</span> = ({a.toFixed(4)} - {y})^2 = <span style={{ color: theme.colors.pink, fontWeight: '700' }}>{loss.toFixed(4)}</span></div>\n              )}\n            </div>\n          )}\n          \n          {step >= 4 && (\n            <div style={{ fontSize: '12px', color: theme.colors.textSecondary, lineHeight: 1.9 }}>\n              <div style={{ marginBottom: '4px' }}>\n                <span style={{ color: theme.colors.pink }}>dL/da</span> = 2(a - y) = 2({a.toFixed(3)} - {y}) = <span style={{ color: theme.colors.pink, fontWeight: '700' }}>{dLoss_da.toFixed(4)}</span>\n              </div>\n              <div style={{ marginBottom: '4px' }}>\n                <span style={{ color: theme.colors.yellow }}>da/dz</span> = a(1-a) = {a.toFixed(3)} * {(1-a).toFixed(3)} = <span style={{ color: theme.colors.yellow, fontWeight: '700' }}>{da_dz.toFixed(4)}</span>\n              </div>\n              <div style={{ padding: '6px 8px', background: theme.colors.orange + '15', borderRadius: '6px', marginBottom: '4px' }}>\n                <span style={{ color: theme.colors.orange, fontWeight: '600' }}>dL/dz</span> = <span style={{ color: theme.colors.pink }}>dL/da</span> * <span style={{ color: theme.colors.yellow }}>da/dz</span> = {dLoss_da.toFixed(3)} * {da_dz.toFixed(3)} = <span style={{ color: theme.colors.orange, fontWeight: '700' }}>{dLoss_dz.toFixed(4)}</span>\n              </div>\n              <div>\n                <span style={{ color: theme.colors.orange }}>dL/dw1</span> = dL/dz * x1 = {dLoss_dz.toFixed(3)} * {x[0]} = <span style={{ color: theme.colors.orange, fontWeight: '700' }}>{dLoss_dw1.toFixed(4)}</span>\n              </div>\n            </div>\n          )}\n          \n          {step === 0 && (\n            <div style={{ fontSize: '13px', color: theme.colors.textMuted, padding: '20px', textAlign: 'center' }}>\n              Click Next to start forward pass...\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Update Equation */}\n      {step >= 5 && (\n        <div style={{ background: theme.colors.green + '15', borderRadius: '8px', padding: '12px', marginBottom: '10px',\n          border: `2px solid ${theme.colors.green}` }}>\n          <div style={{ fontSize: '13px', color: theme.colors.green, fontWeight: '600', marginBottom: '8px' }}>Weight Update (learning rate = {lr})</div>\n          <div style={{ display: 'flex', gap: '20px', fontSize: '13px', flexWrap: 'wrap' }}>\n            <div>\n              <span style={{ color: theme.colors.textSecondary }}>w1' = </span>\n              <span style={{ color: theme.colors.blue }}>{weights[0].toFixed(2)}</span>\n              <span style={{ color: theme.colors.textSecondary }}> - {lr} * </span>\n              <span style={{ color: theme.colors.orange }}>{dLoss_dw1.toFixed(3)}</span>\n              <span style={{ color: theme.colors.textSecondary }}> = </span>\n              <span style={{ color: theme.colors.green, fontWeight: '700' }}>{newW1.toFixed(4)}</span>\n            </div>\n            <div>\n              <span style={{ color: theme.colors.textSecondary }}>w2' = </span>\n              <span style={{ color: theme.colors.blue }}>{weights[1].toFixed(2)}</span>\n              <span style={{ color: theme.colors.textSecondary }}> - {lr} * </span>\n              <span style={{ color: theme.colors.orange }}>{dLoss_dw2.toFixed(3)}</span>\n              <span style={{ color: theme.colors.textSecondary }}> = </span>\n              <span style={{ color: theme.colors.green, fontWeight: '700' }}>{newW2.toFixed(4)}</span>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Apply Update Button */}\n      {step === 5 && (\n        <button onClick={applyUpdate}\n          style={{ width: '100%', padding: '14px', background: theme.colors.green, border: 'none', borderRadius: '8px',\n            color: theme.colors.background, fontSize: '15px', fontWeight: '700', cursor: 'pointer', marginBottom: '10px' }}>\n          Apply Update - Start Next Epoch\n        </button>\n      )}\n\n      {/* Key Insight */}\n      <div style={{ background: theme.colors.surfaceAlt, borderRadius: '8px', padding: '10px 14px',\n        fontSize: '13px', color: theme.colors.textSecondary, borderLeft: `3px solid ${theme.colors.primary}` }}>\n        <span style={{ color: theme.colors.primary, fontWeight: '600' }}>Key Insight: </span>\n        {step < 4 && 'Forward pass computes prediction. The loss measures how wrong we are.'}\n        {step === 4 && 'Backprop multiplies gradients backward: each node asks \"how much did I contribute to the error?\"'}\n        {step === 5 && 'Move weights opposite to gradient direction. Larger gradient = bigger update needed.'}\n      </div>\n    </div>\n  );\n}",
  "settings": {
    "editorHeight": 600,
    "showPreview": true,
    "theme": "auto",
    "showEditor": false,
    "editorWidthPercentage": 35,
    "showConsole": false
  },
  "dependencies": {}
}