{
  "problem_id": 52,
  "title": "Implement Recall Metric in Binary Classification",
  "category": "Machine Learning",
  "enabled": true,
  "type": "react",
  "code": "import React, { useState, useEffect } from 'react';\n\nconst theme = {\n  colors: {\n    background: '#0a0a0a',\n    surface: '#111111',\n    surfaceAlt: '#1a1a1a',\n    border: '#2a2a2a',\n    text: '#fafafa',\n    textSecondary: '#a1a1aa',\n    textMuted: '#52525b',\n    blue: '#38bdf8',\n    green: '#4ade80',\n    orange: '#fb923c',\n    red: '#f43f5e',\n    yellow: '#fbbf24',\n  },\n  font: \"'JetBrains Mono', monospace\",\n};\n\n// Initial Data: 8 people, some are VIPs (True Positives)\nconst INITIAL_DATA = [\n  { id: 1, isVIP: true, pred: true },   // TP\n  { id: 2, isVIP: false, pred: false }, // TN\n  { id: 3, isVIP: true, pred: false },  // FN (Missed!)\n  { id: 4, isVIP: true, pred: true },   // TP\n  { id: 5, isVIP: false, pred: true },  // FP\n  { id: 6, isVIP: false, pred: false }, // TN\n  { id: 7, isVIP: true, pred: false },  // FN (Missed!)\n  { id: 8, isVIP: false, pred: false }, // TN\n];\n\nexport default function RecallPlayground() {\n  const [data, setData] = useState(INITIAL_DATA);\n\n  // Stats Calculation\n  const totalVIPs = data.filter(p => p.isVIP).length;\n  const tp = data.filter(p => p.isVIP && p.pred).length;\n  const fn = data.filter(p => p.isVIP && !p.pred).length;\n  const recall = totalVIPs === 0 ? 0 : tp / totalVIPs;\n\n  const togglePred = (id) => {\n    setData(data.map(p => p.id === id ? { ...p, pred: !p.pred } : p));\n  };\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.title}>Recall Metric</div>\n\n      {/* Section 1: The Concept */}\n      <div style={styles.section}>\n        <div style={styles.sectionTitle}>The Goal: Find all the VIPs</div>\n        <div style={styles.note}>\n          Recall measures <strong>Coverage</strong>. It asks: \"Out of all the actual VIPs, how many did we manage to catch?\"\n        </div>\n      </div>\n\n      {/* Section 2: The Formula */}\n      <div style={styles.section}>\n        <div style={styles.sectionTitle}>The Formula</div>\n        <div style={styles.formulaBox}>\n          <span>Recall = </span>\n          <span style={{color: theme.colors.green}}>Caught VIPs (TP)</span>\n          <span> / </span>\n          <span>( </span>\n          <span style={{color: theme.colors.green}}>Caught (TP)</span>\n          <span> + </span>\n          <span style={{color: theme.colors.orange}}>Missed (FN)</span>\n          <span> )</span>\n        </div>\n        <div style={styles.note}>\n           It ignores false alarms (Regular people mistakenly admitted). It only cares about <strong>not missing VIPs</strong>.\n        </div>\n      </div>\n\n      {/* Section 3: Interactive Grid */}\n      <div style={styles.section}>\n        <div style={styles.sectionTitle}>Security Gate (Click to Toggle Access)</div>\n        \n        <div style={styles.grid}>\n          {data.map((p) => {\n            // Determine Status\n            let statusColor = theme.colors.surfaceAlt;\n            let statusText = '';\n            \n            if (p.isVIP) {\n              if (p.pred) { statusColor = theme.colors.green; statusText = 'TP'; }\n              else { statusColor = theme.colors.orange; statusText = 'FN'; }\n            } else {\n              if (p.pred) { statusColor = theme.colors.red; statusText = 'FP'; }\n              else { statusColor = theme.colors.surfaceAlt; statusText = 'TN'; }\n            }\n\n            return (\n              <div \n                key={p.id} \n                onClick={() => togglePred(p.id)}\n                style={styles.card}\n              >\n                {/* Top Badge (True Label) */}\n                <div style={{\n                  ...styles.badge,\n                  background: p.isVIP ? theme.colors.blue : theme.colors.surfaceAlt,\n                  color: p.isVIP ? theme.colors.background : theme.colors.textMuted,\n                }}>\n                  {p.isVIP ? 'VIP' : 'Guest'}\n                </div>\n\n                {/* Center Icon (Visual Status) */}\n                <div style={{\n                  ...styles.iconBox,\n                  borderColor: p.pred ? theme.colors.green : theme.colors.red,\n                  opacity: p.isVIP ? 1 : 0.3 // Dim non-VIPs as Recall doesn't care much\n                }}>\n                  <div style={{ fontSize: 10, fontWeight: 'bold', color: p.pred ? theme.colors.green : theme.colors.red }}>\n                    {p.pred ? 'OPEN' : 'SHUT'}\n                  </div>\n                </div>\n\n                {/* Bottom Label (Outcome) */}\n                <div style={{\n                  fontSize: 10, fontWeight: 'bold',\n                  color: p.isVIP ? statusColor : theme.colors.textMuted\n                }}>\n                  {p.isVIP ? statusText : '-'}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      {/* Section 4: Results */}\n      <div style={styles.section}>\n        <div style={styles.sectionTitle}>Performance</div>\n        \n        <div style={styles.resultRow}>\n          {/* TP Box */}\n          <div style={{...styles.statBox, borderColor: theme.colors.green}}>\n            <div style={{color: theme.colors.green, fontSize: 24, fontWeight: 'bold'}}>{tp}</div>\n            <div style={styles.statLabel}>Correctly Admitted</div>\n          </div>\n\n          {/* Divider */}\n          <div style={{fontSize: 20, color: theme.colors.textMuted}}>/</div>\n\n          {/* Total VIPs */}\n          <div style={{...styles.statBox, borderColor: theme.colors.blue}}>\n            <div style={{color: theme.colors.blue, fontSize: 24, fontWeight: 'bold'}}>{totalVIPs}</div>\n            <div style={styles.statLabel}>Total VIPs</div>\n          </div>\n\n          {/* Equals */}\n          <div style={{fontSize: 20, color: theme.colors.textMuted}}>=</div>\n\n          {/* Recall Score */}\n          <div style={styles.statBox}>\n             <div style={{color: theme.colors.text, fontSize: 24, fontWeight: 'bold'}}>\n               {(recall * 100).toFixed(0)}%\n             </div>\n             <div style={styles.statLabel}>Recall</div>\n          </div>\n        </div>\n\n        {/* Feedback Message */}\n        <div style={{ marginTop: 12 }}>\n          {recall === 1 ? (\n            <div style={styles.success}>üèÜ Perfect! No VIPs were left outside.</div>\n          ) : recall < 0.5 ? (\n             <div style={styles.warning}>‚ö†Ô∏è Security is too strict! You are rejecting most VIPs.</div>\n          ) : (\n             <div style={styles.hint}>‚ÑπÔ∏è Good, but you missed {fn} VIP{fn > 1 ? 's' : ''}. Open the gate for them!</div>\n          )}\n        </div>\n      </div>\n\n    </div>\n  );\n}\n\nconst styles = {\n  container: {\n    fontFamily: theme.font,\n    background: theme.colors.background,\n    color: theme.colors.text,\n    padding: 16,\n    minHeight: '100vh',\n    maxWidth: 500,\n    margin: '0 auto',\n  },\n  title: {\n    fontSize: 20, fontWeight: 'bold', textAlign: 'center', marginBottom: 16,\n    background: `linear-gradient(90deg, ${theme.colors.blue}, ${theme.colors.green})`,\n    WebkitBackgroundClip: 'text',\n    WebkitTextFillColor: 'transparent',\n  },\n  section: {\n    background: theme.colors.surface,\n    border: `1px solid ${theme.colors.border}`,\n    borderRadius: 10,\n    padding: 14,\n    marginBottom: 12,\n  },\n  sectionTitle: {\n    fontSize: 13, fontWeight: 'bold', marginBottom: 10, color: theme.colors.textSecondary\n  },\n  note: {\n    fontSize: 11, color: theme.colors.textSecondary, lineHeight: 1.5,\n  },\n  formulaBox: {\n    padding: 12, background: theme.colors.background,\n    borderRadius: 8, fontSize: 13, fontFamily: 'monospace',\n    textAlign: 'center', marginBottom: 10,\n  },\n  grid: {\n    display: 'grid', gridTemplateColumns: 'repeat(4, 1fr)', gap: 8,\n  },\n  card: {\n    background: theme.colors.surfaceAlt,\n    borderRadius: 8,\n    padding: 8,\n    display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 6,\n    cursor: 'pointer',\n    border: `1px solid ${theme.colors.border}`,\n    transition: 'all 0.2s',\n  },\n  badge: {\n    fontSize: 9, fontWeight: 'bold', padding: '2px 6px', borderRadius: 4,\n    textTransform: 'uppercase',\n  },\n  iconBox: {\n    width: 32, height: 32, borderRadius: '50%',\n    borderWidth: 2, borderStyle: 'solid',\n    display: 'flex', alignItems: 'center', justifyContent: 'center',\n    background: theme.colors.background,\n  },\n  resultRow: {\n    display: 'flex', justifyContent: 'space-between', alignItems: 'center',\n    background: theme.colors.surfaceAlt, padding: 12, borderRadius: 8,\n  },\n  statBox: {\n    display: 'flex', flexDirection: 'column', alignItems: 'center',\n  },\n  statLabel: {\n    fontSize: 9, color: theme.colors.textMuted, marginTop: 4, textTransform: 'uppercase',\n  },\n  success: {\n    padding: 10, background: `${theme.colors.green}15`,\n    borderRadius: 8, fontSize: 12, color: theme.colors.green, textAlign: 'center',\n  },\n  hint: {\n    padding: 10, background: `${theme.colors.yellow}15`,\n    borderRadius: 8, fontSize: 12, color: theme.colors.yellow, textAlign: 'center',\n  },\n  warning: {\n    padding: 10, background: `${theme.colors.red}15`,\n    borderRadius: 8, fontSize: 12, color: theme.colors.red, textAlign: 'center',\n  },\n};\n",
  "settings": {
    "editorHeight": 600,
    "showPreview": true,
    "theme": "auto",
    "showEditor": false,
    "editorWidthPercentage": 35,
    "showConsole": false
  },
  "dependencies": {}
}