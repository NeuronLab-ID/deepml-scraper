{
  "problem_id": 55,
  "title": "2D Translation Matrix Implementation",
  "category": "Linear Algebra",
  "enabled": true,
  "type": "react",
  "code": "\nimport React, { useState, useMemo } from 'react';\n\nconst theme = {\n  bg: '#0f172a',\n  surface: '#1e293b',\n  card: '#334155',\n  border: '#475569',\n  text: '#f8fafc',\n  muted: '#94a3b8',\n  dim: '#64748b',\n  original: '#38bdf8',\n  translated: '#4ade80',\n  matrix: '#a78bfa',\n  orange: '#fb923c',\n};\n\nexport default function App() {\n  const [tx, setTx] = useState(2);\n  const [ty, setTy] = useState(1.5);\n  const [shape, setShape] = useState('triangle');\n\n  const shapes = {\n    triangle: [[0, 0], [2, 0], [1, 2]],\n    square: [[0, 0], [2, 0], [2, 2], [0, 2]],\n    house: [[0, 0], [3, 0], [3, 2], [1.5, 3.5], [0, 2]],\n  };\n\n  const originalPoints = shapes[shape];\n\n  const translatedPoints = useMemo(() => {\n    return originalPoints.map(([x, y]) => [x + tx, y + ty]);\n  }, [originalPoints, tx, ty]);\n\n  const gridSize = 10;\n  const cellSize = 32;\n  const padding = 20;\n  const svgSize = gridSize * cellSize + padding * 2;\n  const originX = padding + (gridSize / 2) * cellSize;\n  const originY = padding + (gridSize / 2) * cellSize;\n\n  const toSvg = (x, y) => [originX + x * cellSize, originY - y * cellSize];\n\n  const PointLabel = ({ point, color, label }) => {\n    const [svgX, svgY] = toSvg(point[0], point[1]);\n    return (\n      <g>\n        <circle cx={svgX} cy={svgY} r=\"5\" fill={color} />\n        <text x={svgX + 8} y={svgY - 8} fill={color} fontSize=\"10\" fontWeight=\"600\">\n          {label}\n        </text>\n      </g>\n    );\n  };\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.header}>\n        <h1 style={styles.title}>2D Translation Matrix</h1>\n        <p style={styles.subtitle}>Move points using homogeneous coordinates</p>\n      </div>\n\n      {/* Matrix Display */}\n      <div style={styles.matrixSection}>\n        <div style={styles.equation}>\n          <div style={styles.matrixBox}>\n            <div style={styles.matrixLabel}>Translation Matrix T</div>\n            <div style={styles.matrix}>\n              <div style={styles.matrixRow}>\n                <span>1</span><span>0</span><span style={{color: theme.orange}}>{tx.toFixed(1)}</span>\n              </div>\n              <div style={styles.matrixRow}>\n                <span>0</span><span>1</span><span style={{color: theme.orange}}>{ty.toFixed(1)}</span>\n              </div>\n              <div style={styles.matrixRow}>\n                <span>0</span><span>0</span><span>1</span>\n              </div>\n            </div>\n          </div>\n          <span style={styles.times}>×</span>\n          <div style={styles.matrixBox}>\n            <div style={styles.matrixLabel}>Point</div>\n            <div style={styles.matrix}>\n              <div style={styles.matrixCol}>\n                <span style={{color: theme.original}}>x</span>\n                <span style={{color: theme.original}}>y</span>\n                <span>1</span>\n              </div>\n            </div>\n          </div>\n          <span style={styles.equals}>=</span>\n          <div style={styles.matrixBox}>\n            <div style={styles.matrixLabel}>Result</div>\n            <div style={styles.matrix}>\n              <div style={styles.matrixCol}>\n                <span style={{color: theme.translated}}>x+{tx.toFixed(1)}</span>\n                <span style={{color: theme.translated}}>y+{ty.toFixed(1)}</span>\n                <span>1</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Visualization */}\n      <div style={styles.vizSection}>\n        <svg width=\"100%\" viewBox={`0 0 ${svgSize} ${svgSize}`} style={styles.svg}>\n          {/* Grid */}\n          {Array.from({ length: gridSize + 1 }).map((_, i) => {\n            const pos = padding + i * cellSize;\n            return (\n              <g key={i}>\n                <line x1={pos} y1={padding} x2={pos} y2={svgSize - padding} \n                  stroke={theme.border} strokeWidth=\"1\" opacity=\"0.3\" />\n                <line x1={padding} y1={pos} x2={svgSize - padding} y2={pos} \n                  stroke={theme.border} strokeWidth=\"1\" opacity=\"0.3\" />\n              </g>\n            );\n          })}\n\n          {/* Axes */}\n          <line x1={originX} y1={padding} x2={originX} y2={svgSize - padding} \n            stroke={theme.muted} strokeWidth=\"2\" />\n          <line x1={padding} y1={originY} x2={svgSize - padding} y2={originY} \n            stroke={theme.muted} strokeWidth=\"2\" />\n          \n          <text x={svgSize - padding - 10} y={originY - 8} fill={theme.muted} fontSize=\"12\">x</text>\n          <text x={originX + 8} y={padding + 15} fill={theme.muted} fontSize=\"12\">y</text>\n\n          {/* Translation arrows */}\n          {originalPoints.map((pt, i) => {\n            const [x1, y1] = toSvg(pt[0], pt[1]);\n            const [x2, y2] = toSvg(translatedPoints[i][0], translatedPoints[i][1]);\n            return (\n              <line key={i} x1={x1} y1={y1} x2={x2} y2={y2}\n                stroke={theme.orange} strokeWidth=\"1.5\" strokeDasharray=\"4,3\" opacity=\"0.6\" />\n            );\n          })}\n\n          {/* Original shape */}\n          <polygon \n            points={originalPoints.map(p => toSvg(p[0], p[1]).join(',')).join(' ')}\n            fill={`${theme.original}30`}\n            stroke={theme.original}\n            strokeWidth=\"2\"\n          />\n\n          {/* Translated shape */}\n          <polygon \n            points={translatedPoints.map(p => toSvg(p[0], p[1]).join(',')).join(' ')}\n            fill={`${theme.translated}30`}\n            stroke={theme.translated}\n            strokeWidth=\"2\"\n          />\n\n          {/* Points */}\n          {originalPoints.map((pt, i) => (\n            <PointLabel key={`orig-${i}`} point={pt} color={theme.original} \n              label={`(${pt[0]}, ${pt[1]})`} />\n          ))}\n          {translatedPoints.map((pt, i) => (\n            <PointLabel key={`trans-${i}`} point={pt} color={theme.translated} \n              label={`(${translatedPoints[i][0].toFixed(1)}, ${translatedPoints[i][1].toFixed(1)})`} />\n          ))}\n\n          <text x={originX + 5} y={originY + 15} fill={theme.dim} fontSize=\"10\">(0,0)</text>\n        </svg>\n\n        <div style={styles.legend}>\n          <div style={styles.legendItem}>\n            <div style={{...styles.legendBox, background: theme.original}} />\n            <span>Original</span>\n          </div>\n          <div style={styles.legendItem}>\n            <div style={{...styles.legendBox, background: theme.translated}} />\n            <span>Translated</span>\n          </div>\n        </div>\n      </div>\n\n      {/* Controls */}\n      <div style={styles.controlsSection}>\n        <div style={styles.shapeSelector}>\n          <span style={styles.controlLabel}>Shape:</span>\n          {Object.keys(shapes).map(s => (\n            <button \n              key={s}\n              onClick={() => setShape(s)}\n              style={{\n                ...styles.shapeBtn,\n                background: shape === s ? theme.matrix : theme.card,\n                color: shape === s ? '#000' : theme.text,\n              }}\n            >\n              {s}\n            </button>\n          ))}\n        </div>\n\n        <div style={styles.sliderRow}>\n          <div style={styles.slider}>\n            <div style={styles.sliderLabel}>\n              <span>t<sub>x</sub></span>\n              <span style={{color: theme.orange, fontWeight: 700}}>{tx.toFixed(1)}</span>\n            </div>\n            <input \n              type=\"range\" min=\"-4\" max=\"4\" step=\"0.5\" value={tx}\n              onChange={e => setTx(+e.target.value)}\n              style={styles.range}\n            />\n          </div>\n          <div style={styles.slider}>\n            <div style={styles.sliderLabel}>\n              <span>t<sub>y</sub></span>\n              <span style={{color: theme.orange, fontWeight: 700}}>{ty.toFixed(1)}</span>\n            </div>\n            <input \n              type=\"range\" min=\"-4\" max=\"4\" step=\"0.5\" value={ty}\n              onChange={e => setTy(+e.target.value)}\n              style={styles.range}\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Points Table */}\n      <div style={styles.tableSection}>\n        <div style={styles.tableTitle}>Point Transformation</div>\n        <div style={styles.tableHeader}>\n          <span style={{color: theme.original}}>Original (x, y)</span>\n          <span style={{color: theme.dim}}>→</span>\n          <span style={{color: theme.translated}}>Translated</span>\n        </div>\n        {originalPoints.map((pt, i) => (\n          <div key={i} style={styles.tableRow}>\n            <span style={{color: theme.original}}>({pt[0]}, {pt[1]})</span>\n            <span style={{color: theme.dim}}>→</span>\n            <span style={{color: theme.translated}}>\n              ({translatedPoints[i][0].toFixed(1)}, {translatedPoints[i][1].toFixed(1)})\n            </span>\n          </div>\n        ))}\n      </div>\n\n      {/* Formula */}\n      <div style={styles.formulaBox}>\n        <div style={styles.formulaTitle}>Homogeneous Coordinates</div>\n        <div style={styles.formula}>\n          (x, y) → (x, y, 1) allows translation as matrix multiplication\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: {\n    fontFamily: \"'Inter', -apple-system, sans-serif\",\n    background: theme.bg,\n    color: theme.text,\n    padding: 14,\n    maxWidth: 480,\n    margin: '0 auto',\n    minHeight: '100vh',\n  },\n  header: { textAlign: 'center', marginBottom: 12 },\n  title: { fontSize: 18, fontWeight: 700, margin: 0 },\n  subtitle: { fontSize: 11, color: theme.muted, margin: '4px 0 0' },\n\n  matrixSection: {\n    background: theme.surface, borderRadius: 10, padding: 14, marginBottom: 12,\n    overflowX: 'auto',\n  },\n  equation: {\n    display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 8,\n    flexWrap: 'wrap',\n  },\n  matrixBox: { textAlign: 'center' },\n  matrixLabel: { fontSize: 9, color: theme.dim, marginBottom: 4 },\n  matrix: {\n    display: 'inline-flex', flexDirection: 'column',\n    padding: '6px 10px', background: theme.card, borderRadius: 6,\n    border: `1px solid ${theme.border}`,\n  },\n  matrixRow: {\n    display: 'flex', gap: 10, justifyContent: 'center',\n    fontSize: 12, fontFamily: 'monospace', color: theme.muted,\n  },\n  matrixCol: {\n    display: 'flex', flexDirection: 'column', gap: 2,\n    fontSize: 11, fontFamily: 'monospace', color: theme.muted,\n  },\n  times: { fontSize: 14, color: theme.dim },\n  equals: { fontSize: 14, color: theme.dim },\n\n  vizSection: {\n    background: theme.surface, borderRadius: 10, padding: 10, marginBottom: 12,\n  },\n  svg: { display: 'block' },\n  legend: {\n    display: 'flex', justifyContent: 'center', gap: 20, marginTop: 8,\n  },\n  legendItem: { display: 'flex', alignItems: 'center', gap: 6, fontSize: 11, color: theme.muted },\n  legendBox: { width: 14, height: 14, borderRadius: 3 },\n\n  controlsSection: {\n    background: theme.surface, borderRadius: 10, padding: 14, marginBottom: 12,\n  },\n  shapeSelector: {\n    display: 'flex', alignItems: 'center', gap: 8, marginBottom: 14, justifyContent: 'center',\n  },\n  controlLabel: { fontSize: 11, color: theme.muted },\n  shapeBtn: {\n    padding: '6px 12px', borderRadius: 6, border: 'none',\n    cursor: 'pointer', fontSize: 11, fontWeight: 600, textTransform: 'capitalize',\n  },\n  sliderRow: { display: 'flex', gap: 16 },\n  slider: { flex: 1 },\n  sliderLabel: {\n    display: 'flex', justifyContent: 'space-between', marginBottom: 6,\n    fontSize: 13, color: theme.muted,\n  },\n  range: { width: '100%', accentColor: theme.orange },\n\n  tableSection: {\n    background: theme.surface, borderRadius: 10, padding: 12, marginBottom: 12,\n  },\n  tableTitle: { fontSize: 10, color: theme.dim, marginBottom: 8, textAlign: 'center' },\n  tableHeader: {\n    display: 'flex', justifyContent: 'space-between', padding: '6px 0',\n    borderBottom: `1px solid ${theme.border}`, fontSize: 10, color: theme.muted,\n  },\n  tableRow: {\n    display: 'flex', justifyContent: 'space-between', padding: '6px 0',\n    borderBottom: `1px solid ${theme.border}20`, fontSize: 11,\n  },\n\n  formulaBox: {\n    background: theme.surface, borderRadius: 10, padding: 12, textAlign: 'center',\n  },\n  formulaTitle: { fontSize: 10, color: theme.dim, marginBottom: 4 },\n  formula: { fontSize: 10, color: theme.muted },\n};\n",
  "settings": {
    "editorHeight": 600,
    "editorWidthPercentage": 35,
    "theme": "auto",
    "showConsole": false,
    "showPreview": true,
    "showEditor": false
  },
  "dependencies": {}
}