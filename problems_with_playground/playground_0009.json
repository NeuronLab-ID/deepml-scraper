{
  "problem_id": 9,
  "title": "Matrix times Matrix ",
  "category": "Linear Algebra",
  "enabled": true,
  "type": "react",
  "code": "import React, { useState, useMemo } from 'react';\n\n// ============================================\n// Design Tokens\n// ============================================\nconst theme = {\n  colors: {\n    primary: '#6366f1',\n    secondary: '#ffffff',\n    background: '#000000',\n    surface: '#0a0a0a',\n    surfaceAlt: '#111111',\n    border: '#1f1f1f',\n    text: '#ffffff',\n    textSecondary: '#a1a1aa',\n    textMuted: '#71717a',\n    success: '#22c55e',\n    error: '#ef4444',\n    warning: '#f59e0b',\n    matrixA: '#ec4899',\n    matrixB: '#3b82f6',\n    result: '#22c55e',\n    highlight: '#f59e0b',\n  },\n  font: \"'JetBrains Mono', monospace\",\n};\n\n// ============================================\n// Icons\n// ============================================\nconst Icons = {\n  Play: ({ size = 24, color = 'currentColor' }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <polygon points=\"5 3 19 12 5 21 5 3\"/>\n    </svg>\n  ),\n  RotateCcw: ({ size = 24, color = 'currentColor' }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\"/><path d=\"M3 3v5h5\"/>\n    </svg>\n  ),\n  ChevronRight: ({ size = 24, color = 'currentColor' }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"m9 18 6-6-6-6\"/>\n    </svg>\n  ),\n  ChevronLeft: ({ size = 24, color = 'currentColor' }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"m15 18-6-6 6-6\"/>\n    </svg>\n  ),\n  SkipForward: ({ size = 24, color = 'currentColor' }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <polygon points=\"5 4 15 12 5 20 5 4\"/><line x1=\"19\" y1=\"5\" x2=\"19\" y2=\"19\"/>\n    </svg>\n  ),\n};\n\n// ============================================\n// Card Component\n// ============================================\nfunction Card({ children, style = {} }) {\n  return (\n    <div style={{\n      background: theme.colors.surface,\n      border: `1px solid ${theme.colors.border}`,\n      borderRadius: '12px',\n      padding: '20px',\n      ...style,\n    }}>\n      {children}\n    </div>\n  );\n}\n\n// ============================================\n// Interactive Matrix Grid\n// ============================================\nfunction MatrixGrid({ matrix, onChange, label, color, highlightRow = -1, highlightCol = -1, canResize = true }) {\n  const rows = matrix.length;\n  const cols = matrix[0].length;\n  \n  const addRow = () => {\n    if (rows < 4) onChange([...matrix, Array(cols).fill(0)]);\n  };\n  const removeRow = () => {\n    if (rows > 1) onChange(matrix.slice(0, -1));\n  };\n  const addCol = () => {\n    if (cols < 4) onChange(matrix.map(row => [...row, 0]));\n  };\n  const removeCol = () => {\n    if (cols > 1) onChange(matrix.map(row => row.slice(0, -1)));\n  };\n  \n  return (\n    <div style={{ textAlign: 'center' }}>\n      <div style={{\n        fontSize: '11px',\n        color,\n        marginBottom: '6px',\n        fontWeight: '600',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: '8px',\n      }}>\n        {label}\n        <span style={{\n          fontSize: '10px',\n          padding: '2px 6px',\n          background: `${color}20`,\n          borderRadius: '4px',\n        }}>\n          {rows}×{cols}\n        </span>\n      </div>\n      \n      <div style={{\n        display: 'inline-flex',\n        flexDirection: 'column',\n        gap: '3px',\n        padding: '10px',\n        background: `${color}10`,\n        borderRadius: '8px',\n        border: `1px solid ${color}40`,\n      }}>\n        {matrix.map((row, i) => (\n          <div key={i} style={{ display: 'flex', gap: '3px' }}>\n            {row.map((val, j) => {\n              const isRowHighlight = highlightRow === i;\n              const isColHighlight = highlightCol === j;\n              const isHighlighted = isRowHighlight || isColHighlight;\n              const isCrossHighlight = isRowHighlight && isColHighlight;\n              \n              return (\n                <input\n                  key={j}\n                  type=\"number\"\n                  value={val}\n                  onChange={(e) => {\n                    const newMatrix = matrix.map((r, ri) =>\n                      r.map((c, ci) => (ri === i && ci === j ? parseInt(e.target.value) || 0 : c))\n                    );\n                    onChange(newMatrix);\n                  }}\n                  style={{\n                    width: '38px',\n                    height: '32px',\n                    background: isCrossHighlight \n                      ? theme.colors.highlight\n                      : isHighlighted \n                        ? `${theme.colors.highlight}40` \n                        : theme.colors.surfaceAlt,\n                    border: `2px solid ${isHighlighted ? theme.colors.highlight : theme.colors.border}`,\n                    borderRadius: '5px',\n                    color: isCrossHighlight ? '#000' : theme.colors.text,\n                    fontFamily: theme.font,\n                    fontSize: '13px',\n                    fontWeight: '600',\n                    textAlign: 'center',\n                    outline: 'none',\n                    transition: 'all 0.15s ease',\n                  }}\n                />\n              );\n            })}\n          </div>\n        ))}\n      </div>\n      \n      {canResize && (\n        <div style={{ display: 'flex', gap: '4px', justifyContent: 'center', marginTop: '8px' }}>\n          {[\n            { label: '+R', action: addRow, disabled: rows >= 4 },\n            { label: '-R', action: removeRow, disabled: rows <= 1 },\n            { label: '+C', action: addCol, disabled: cols >= 4 },\n            { label: '-C', action: removeCol, disabled: cols <= 1 },\n          ].map(({ label, action, disabled }) => (\n            <button\n              key={label}\n              onClick={action}\n              disabled={disabled}\n              style={{\n                padding: '3px 8px',\n                background: theme.colors.surfaceAlt,\n                border: `1px solid ${theme.colors.border}`,\n                borderRadius: '4px',\n                color: disabled ? theme.colors.textMuted : theme.colors.textSecondary,\n                fontFamily: theme.font,\n                fontSize: '10px',\n                cursor: disabled ? 'not-allowed' : 'pointer',\n                opacity: disabled ? 0.5 : 1,\n              }}\n            >\n              {label}\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\n// ============================================\n// Result Matrix Display\n// ============================================\nfunction ResultMatrixDisplay({ matrix, highlightCell = null, revealedCells = null }) {\n  if (matrix === -1) {\n    return (\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        padding: '30px',\n        background: `${theme.colors.error}15`,\n        borderRadius: '8px',\n        border: `2px solid ${theme.colors.error}`,\n        color: theme.colors.error,\n        fontSize: '18px',\n        fontWeight: '700',\n      }}>\n        -1\n      </div>\n    );\n  }\n  \n  return (\n    <div style={{\n      display: 'inline-flex',\n      flexDirection: 'column',\n      gap: '3px',\n      padding: '10px',\n      background: `${theme.colors.result}15`,\n      borderRadius: '8px',\n      border: `2px solid ${theme.colors.result}`,\n    }}>\n      {matrix.map((row, i) => (\n        <div key={i} style={{ display: 'flex', gap: '3px' }}>\n          {row.map((val, j) => {\n            const isHighlighted = highlightCell && highlightCell.row === i && highlightCell.col === j;\n            const isRevealed = revealedCells === null || revealedCells.some(c => c.row === i && c.col === j);\n            \n            return (\n              <div\n                key={j}\n                style={{\n                  width: '38px',\n                  height: '32px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  background: isHighlighted ? theme.colors.result : theme.colors.surfaceAlt,\n                  border: `2px solid ${isHighlighted ? theme.colors.result : theme.colors.border}`,\n                  borderRadius: '5px',\n                  color: isRevealed ? (isHighlighted ? '#000' : theme.colors.result) : theme.colors.textMuted,\n                  fontFamily: theme.font,\n                  fontSize: '12px',\n                  fontWeight: '700',\n                  transition: 'all 0.15s ease',\n                  transform: isHighlighted ? 'scale(1.1)' : 'scale(1)',\n                }}\n              >\n                {isRevealed ? val : '?'}\n              </div>\n            );\n          })}\n        </div>\n      ))}\n    </div>\n  );\n}\n\n// ============================================\n// Dot Product Visualization\n// ============================================\nfunction DotProductViz({ rowVals, colVals, result, targetRow, targetCol, isActive }) {\n  if (!isActive || !rowVals || !colVals) return null;\n  \n  return (\n    <div style={{\n      padding: '14px 18px',\n      background: theme.colors.background,\n      borderRadius: '8px',\n      border: `1px solid ${theme.colors.highlight}`,\n    }}>\n      <div style={{\n        fontSize: '11px',\n        color: theme.colors.textMuted,\n        marginBottom: '10px',\n        display: 'flex',\n        alignItems: 'center',\n        gap: '8px',\n      }}>\n        <span>Computing</span>\n        <span style={{\n          padding: '2px 8px',\n          background: `${theme.colors.result}20`,\n          borderRadius: '4px',\n          color: theme.colors.result,\n          fontWeight: '600',\n        }}>\n          C[{targetRow}][{targetCol}]\n        </span>\n      </div>\n      \n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        gap: '6px',\n        flexWrap: 'wrap',\n        fontFamily: theme.font,\n        fontSize: '14px',\n      }}>\n        <span style={{ color: theme.colors.textMuted }}>(</span>\n        {rowVals.map((r, idx) => (\n          <React.Fragment key={idx}>\n            <span style={{ \n              color: theme.colors.matrixA,\n              padding: '2px 4px',\n              background: `${theme.colors.matrixA}20`,\n              borderRadius: '3px',\n            }}>{r}</span>\n            <span style={{ color: theme.colors.textMuted }}>×</span>\n            <span style={{ \n              color: theme.colors.matrixB,\n              padding: '2px 4px',\n              background: `${theme.colors.matrixB}20`,\n              borderRadius: '3px',\n            }}>{colVals[idx]}</span>\n            {idx < rowVals.length - 1 && (\n              <span style={{ color: theme.colors.textMuted, margin: '0 2px' }}>+</span>\n            )}\n          </React.Fragment>\n        ))}\n        <span style={{ color: theme.colors.textMuted }}>)</span>\n        <span style={{ color: theme.colors.textMuted, margin: '0 4px' }}>=</span>\n        <span style={{\n          color: '#000',\n          fontWeight: '700',\n          fontSize: '16px',\n          padding: '4px 12px',\n          background: theme.colors.result,\n          borderRadius: '6px',\n        }}>\n          {result}\n        </span>\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// Dimension Check Visual\n// ============================================\nfunction DimensionCheck({ rowsA, colsA, rowsB, colsB }) {\n  const isValid = colsA === rowsB;\n  \n  return (\n    <div style={{\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      gap: '8px',\n      padding: '10px 16px',\n      background: isValid ? `${theme.colors.success}10` : `${theme.colors.error}10`,\n      borderRadius: '8px',\n      border: `1px solid ${isValid ? theme.colors.success : theme.colors.error}40`,\n      marginBottom: '16px',\n    }}>\n      <div style={{\n        padding: '4px 10px',\n        background: `${theme.colors.matrixA}20`,\n        borderRadius: '4px',\n        color: theme.colors.matrixA,\n        fontSize: '12px',\n        fontWeight: '600',\n      }}>\n        A: {rowsA}×<span style={{ \n          background: isValid ? `${theme.colors.success}40` : `${theme.colors.error}40`,\n          padding: '1px 4px',\n          borderRadius: '3px',\n        }}>{colsA}</span>\n      </div>\n      \n      <span style={{ color: isValid ? theme.colors.success : theme.colors.error, fontSize: '16px' }}>\n        {isValid ? '✓' : '≠'}\n      </span>\n      \n      <div style={{\n        padding: '4px 10px',\n        background: `${theme.colors.matrixB}20`,\n        borderRadius: '4px',\n        color: theme.colors.matrixB,\n        fontSize: '12px',\n        fontWeight: '600',\n      }}>\n        B: <span style={{ \n          background: isValid ? `${theme.colors.success}40` : `${theme.colors.error}40`,\n          padding: '1px 4px',\n          borderRadius: '3px',\n        }}>{rowsB}</span>×{colsB}\n      </div>\n      \n      <span style={{ color: theme.colors.textMuted }}>→</span>\n      \n      <div style={{\n        padding: '4px 10px',\n        background: isValid ? `${theme.colors.result}20` : `${theme.colors.error}20`,\n        borderRadius: '4px',\n        color: isValid ? theme.colors.result : theme.colors.error,\n        fontSize: '12px',\n        fontWeight: '600',\n      }}>\n        {isValid ? `C: ${rowsA}×${colsB}` : '-1'}\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// Step Controls\n// ============================================\nfunction StepControls({ currentStep, totalSteps, onPrev, onNext, onReset, onAutoPlay, isPlaying, isValid }) {\n  return (\n    <div style={{\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px',\n      marginTop: '16px',\n    }}>\n      {/* Step Counter */}\n      <div style={{\n        padding: '8px 14px',\n        background: theme.colors.surfaceAlt,\n        borderRadius: '6px',\n        fontSize: '12px',\n        color: theme.colors.textSecondary,\n        minWidth: '100px',\n        textAlign: 'center',\n      }}>\n        Step <span style={{ color: theme.colors.text, fontWeight: '600' }}>{currentStep}</span> / {totalSteps}\n      </div>\n      \n      {/* Prev */}\n      <button\n        onClick={onPrev}\n        disabled={currentStep <= 0 || !isValid}\n        style={{\n          padding: '10px 14px',\n          background: theme.colors.surfaceAlt,\n          border: `1px solid ${theme.colors.border}`,\n          borderRadius: '6px',\n          color: currentStep <= 0 || !isValid ? theme.colors.textMuted : theme.colors.textSecondary,\n          cursor: currentStep <= 0 || !isValid ? 'not-allowed' : 'pointer',\n          opacity: currentStep <= 0 || !isValid ? 0.5 : 1,\n          display: 'flex',\n          alignItems: 'center',\n        }}\n      >\n        <Icons.ChevronLeft size={18} />\n      </button>\n      \n      {/* Next */}\n      <button\n        onClick={onNext}\n        disabled={currentStep >= totalSteps || !isValid}\n        style={{\n          flex: 1,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          gap: '6px',\n          padding: '10px 16px',\n          background: isValid && currentStep < totalSteps ? theme.colors.primary : theme.colors.surfaceAlt,\n          border: 'none',\n          borderRadius: '6px',\n          color: isValid && currentStep < totalSteps ? theme.colors.secondary : theme.colors.textMuted,\n          fontFamily: theme.font,\n          fontSize: '13px',\n          fontWeight: '600',\n          cursor: isValid && currentStep < totalSteps ? 'pointer' : 'not-allowed',\n          opacity: currentStep >= totalSteps || !isValid ? 0.5 : 1,\n        }}\n      >\n        Next Step\n        <Icons.ChevronRight size={18} />\n      </button>\n      \n      {/* Auto Play */}\n      <button\n        onClick={onAutoPlay}\n        disabled={isPlaying || currentStep >= totalSteps || !isValid}\n        style={{\n          padding: '10px 14px',\n          background: theme.colors.surfaceAlt,\n          border: `1px solid ${theme.colors.border}`,\n          borderRadius: '6px',\n          color: isPlaying || currentStep >= totalSteps || !isValid ? theme.colors.textMuted : theme.colors.textSecondary,\n          cursor: isPlaying || currentStep >= totalSteps || !isValid ? 'not-allowed' : 'pointer',\n          opacity: isPlaying || currentStep >= totalSteps || !isValid ? 0.5 : 1,\n          display: 'flex',\n          alignItems: 'center',\n          gap: '4px',\n        }}\n        title=\"Auto-play remaining steps\"\n      >\n        <Icons.SkipForward size={16} />\n      </button>\n      \n      {/* Reset */}\n      <button\n        onClick={onReset}\n        style={{\n          padding: '10px 14px',\n          background: theme.colors.surfaceAlt,\n          border: `1px solid ${theme.colors.border}`,\n          borderRadius: '6px',\n          color: theme.colors.textSecondary,\n          cursor: 'pointer',\n          display: 'flex',\n          alignItems: 'center',\n        }}\n      >\n        <Icons.RotateCcw size={16} />\n      </button>\n    </div>\n  );\n}\n\n// ============================================\n// Main Component\n// ============================================\nexport default function MatrixMultiplication() {\n  const [matrixA, setMatrixA] = useState([[1, 2], [3, 4]]);\n  const [matrixB, setMatrixB] = useState([[2, 0], [1, 3]]);\n  const [currentStep, setCurrentStep] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  \n  const rowsA = matrixA.length;\n  const colsA = matrixA[0].length;\n  const rowsB = matrixB.length;\n  const colsB = matrixB[0].length;\n  \n  const isValid = colsA === rowsB;\n  const totalSteps = isValid ? rowsA * colsB : 0;\n  \n  // Calculate full result\n  const result = useMemo(() => {\n    if (!isValid) return -1;\n    \n    const C = [];\n    for (let i = 0; i < rowsA; i++) {\n      const row = [];\n      for (let j = 0; j < colsB; j++) {\n        let sum = 0;\n        for (let k = 0; k < colsA; k++) {\n          sum += matrixA[i][k] * matrixB[k][j];\n        }\n        row.push(sum);\n      }\n      C.push(row);\n    }\n    return C;\n  }, [matrixA, matrixB, isValid, rowsA, colsA, colsB]);\n  \n  // Current step info\n  const stepInfo = useMemo(() => {\n    if (!isValid || currentStep === 0) {\n      return { row: -1, col: -1, rowVals: null, colVals: null, cellResult: null };\n    }\n    \n    const stepIdx = currentStep - 1;\n    const row = Math.floor(stepIdx / colsB);\n    const col = stepIdx % colsB;\n    \n    const rowVals = matrixA[row];\n    const colVals = matrixB.map(r => r[col]);\n    const cellResult = result[row][col];\n    \n    return { row, col, rowVals, colVals, cellResult };\n  }, [currentStep, colsB, matrixA, matrixB, result, isValid]);\n  \n  // Revealed cells (all cells computed so far)\n  const revealedCells = useMemo(() => {\n    if (!isValid || currentStep === 0) return [];\n    \n    const cells = [];\n    for (let s = 0; s < currentStep; s++) {\n      const row = Math.floor(s / colsB);\n      const col = s % colsB;\n      cells.push({ row, col });\n    }\n    return cells;\n  }, [currentStep, colsB, isValid]);\n  \n  // Navigation\n  const nextStep = () => {\n    if (currentStep < totalSteps) {\n      setCurrentStep(currentStep + 1);\n    }\n  };\n  \n  const prevStep = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n  \n  const reset = () => {\n    setCurrentStep(0);\n    setIsPlaying(false);\n  };\n  \n  const autoPlay = async () => {\n    setIsPlaying(true);\n    for (let s = currentStep; s < totalSteps; s++) {\n      setCurrentStep(s + 1);\n      await new Promise(r => setTimeout(r, 600));\n    }\n    setIsPlaying(false);\n  };\n  \n  // Presets\n  const presets = [\n    { name: '2×2', A: [[1, 2], [3, 4]], B: [[2, 0], [1, 3]] },\n    { name: '3×2 · 2×3', A: [[1, 2], [3, 4], [5, 6]], B: [[1, 2, 3], [4, 5, 6]] },\n    { name: 'Identity', A: [[1, 0], [0, 1]], B: [[5, 6], [7, 8]] },\n    { name: 'Invalid', A: [[1, 2, 3]], B: [[1, 2], [3, 4]] },\n  ];\n\n  return (\n    <div style={{\n      minHeight: '100vh',\n      background: theme.colors.background,\n      color: theme.colors.text,\n      fontFamily: theme.font,\n      padding: '24px',\n    }}>\n      <div style={{ maxWidth: '750px', margin: '0 auto' }}>\n        {/* Header */}\n        <div style={{ marginBottom: '16px', textAlign: 'center' }}>\n          <h1 style={{ fontSize: '20px', fontWeight: '600', margin: '0 0 4px 0' }}>\n            Matrix Multiplication: A × B = C\n          </h1>\n          <p style={{ color: theme.colors.textSecondary, fontSize: '12px', margin: 0 }}>\n            Step through each cell — see how row × column = dot product\n          </p>\n        </div>\n        \n        {/* Presets */}\n        <div style={{ display: 'flex', gap: '6px', marginBottom: '12px', justifyContent: 'center', flexWrap: 'wrap' }}>\n          {presets.map(({ name, A, B }) => (\n            <button\n              key={name}\n              onClick={() => { setMatrixA(A); setMatrixB(B); reset(); }}\n              style={{\n                padding: '4px 10px',\n                background: name === 'Invalid' ? `${theme.colors.error}20` : theme.colors.surfaceAlt,\n                border: `1px solid ${name === 'Invalid' ? theme.colors.error : theme.colors.border}`,\n                borderRadius: '4px',\n                color: name === 'Invalid' ? theme.colors.error : theme.colors.textSecondary,\n                fontFamily: theme.font,\n                fontSize: '11px',\n                cursor: 'pointer',\n              }}\n            >\n              {name}\n            </button>\n          ))}\n        </div>\n        \n        {/* Main Card */}\n        <Card>\n          {/* Dimension Check */}\n          <DimensionCheck rowsA={rowsA} colsA={colsA} rowsB={rowsB} colsB={colsB} />\n          \n          {/* Matrices */}\n          <div style={{\n            display: 'flex',\n            alignItems: 'flex-start',\n            justifyContent: 'center',\n            gap: '12px',\n            flexWrap: 'wrap',\n          }}>\n            <MatrixGrid\n              matrix={matrixA}\n              onChange={(m) => { setMatrixA(m); reset(); }}\n              label=\"Matrix A\"\n              color={theme.colors.matrixA}\n              highlightRow={stepInfo.row}\n              highlightCol={-1}\n            />\n            \n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              paddingTop: '40px',\n              color: theme.colors.textMuted,\n              fontSize: '18px',\n            }}>\n              ×\n            </div>\n            \n            <MatrixGrid\n              matrix={matrixB}\n              onChange={(m) => { setMatrixB(m); reset(); }}\n              label=\"Matrix B\"\n              color={theme.colors.matrixB}\n              highlightRow={-1}\n              highlightCol={stepInfo.col}\n            />\n            \n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              paddingTop: '40px',\n              color: theme.colors.textMuted,\n              fontSize: '18px',\n            }}>\n              =\n            </div>\n            \n            <div style={{ textAlign: 'center' }}>\n              <div style={{\n                fontSize: '11px',\n                color: isValid ? theme.colors.result : theme.colors.error,\n                marginBottom: '6px',\n                fontWeight: '600',\n              }}>\n                Result C {isValid && <span style={{\n                  fontSize: '10px',\n                  padding: '2px 6px',\n                  background: `${theme.colors.result}20`,\n                  borderRadius: '4px',\n                }}>{rowsA}×{colsB}</span>}\n              </div>\n              <ResultMatrixDisplay \n                matrix={result} \n                highlightCell={currentStep > 0 ? { row: stepInfo.row, col: stepInfo.col } : null}\n                revealedCells={currentStep === 0 ? [] : revealedCells}\n              />\n            </div>\n          </div>\n          \n          {/* Dot Product Visualization */}\n          {currentStep > 0 && isValid && (\n            <div style={{ marginTop: '16px' }}>\n              <DotProductViz\n                rowVals={stepInfo.rowVals}\n                colVals={stepInfo.colVals}\n                result={stepInfo.cellResult}\n                targetRow={stepInfo.row}\n                targetCol={stepInfo.col}\n                isActive={true}\n              />\n            </div>\n          )}\n          \n          {/* Step indicator when not started */}\n          {currentStep === 0 && isValid && (\n            <div style={{\n              marginTop: '16px',\n              padding: '14px 18px',\n              background: theme.colors.surfaceAlt,\n              borderRadius: '8px',\n              textAlign: 'center',\n              color: theme.colors.textSecondary,\n              fontSize: '13px',\n            }}>\n              Click <strong style={{ color: theme.colors.primary }}>Next Step</strong> to compute each cell of C one by one\n            </div>\n          )}\n          \n          {/* Completion message */}\n          {currentStep === totalSteps && totalSteps > 0 && (\n            <div style={{\n              marginTop: '16px',\n              padding: '14px 18px',\n              background: `${theme.colors.success}15`,\n              borderRadius: '8px',\n              border: `1px solid ${theme.colors.success}40`,\n              textAlign: 'center',\n              color: theme.colors.success,\n              fontSize: '13px',\n              fontWeight: '600',\n            }}>\n              Complete! All {totalSteps} cells computed.\n            </div>\n          )}\n          \n          {/* Error explanation */}\n          {!isValid && (\n            <div style={{\n              marginTop: '16px',\n              padding: '12px 16px',\n              background: `${theme.colors.error}10`,\n              borderRadius: '8px',\n              border: `1px solid ${theme.colors.error}40`,\n              fontSize: '12px',\n              color: theme.colors.error,\n              textAlign: 'center',\n            }}>\n              <strong>Cannot multiply!</strong> A's columns ({colsA}) must equal B's rows ({rowsB})\n            </div>\n          )}\n          \n          {/* Step Controls */}\n          <StepControls\n            currentStep={currentStep}\n            totalSteps={totalSteps}\n            onPrev={prevStep}\n            onNext={nextStep}\n            onReset={reset}\n            onAutoPlay={autoPlay}\n            isPlaying={isPlaying}\n            isValid={isValid}\n          />\n        </Card>\n        \n        {/* Key Concepts */}\n        <Card style={{ marginTop: '16px' }}>\n          <div style={{\n            fontSize: '12px',\n            color: theme.colors.textMuted,\n            textTransform: 'uppercase',\n            letterSpacing: '0.5px',\n            marginBottom: '12px',\n          }}>\n            Key Concepts\n          </div>\n          \n          <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '12px' }}>\n            <div style={{\n              padding: '12px',\n              background: theme.colors.surfaceAlt,\n              borderRadius: '6px',\n              border: `1px solid ${theme.colors.border}`,\n            }}>\n              <div style={{ fontSize: '12px', color: theme.colors.highlight, fontWeight: '600', marginBottom: '4px' }}>\n                Row × Column = Cell\n              </div>\n              <div style={{ fontSize: '11px', color: theme.colors.textSecondary }}>\n                C[i][j] = dot product of A's row i and B's column j\n              </div>\n            </div>\n            \n            <div style={{\n              padding: '12px',\n              background: theme.colors.surfaceAlt,\n              borderRadius: '6px',\n              border: `1px solid ${theme.colors.border}`,\n            }}>\n              <div style={{ fontSize: '12px', color: theme.colors.success, fontWeight: '600', marginBottom: '4px' }}>\n                Dimension Rule\n              </div>\n              <div style={{ fontSize: '11px', color: theme.colors.textSecondary }}>\n                (m×k) × (k×n) = (m×n) — inner dims must match\n              </div>\n            </div>\n            \n            <div style={{\n              padding: '12px',\n              background: theme.colors.surfaceAlt,\n              borderRadius: '6px',\n              border: `1px solid ${theme.colors.border}`,\n            }}>\n              <div style={{ fontSize: '12px', color: theme.colors.error, fontWeight: '600', marginBottom: '4px' }}>\n                Mismatch → -1\n              </div>\n              <div style={{ fontSize: '11px', color: theme.colors.textSecondary }}>\n                If A's cols ≠ B's rows, return -1\n              </div>\n            </div>\n            \n            <div style={{\n              padding: '12px',\n              background: theme.colors.surfaceAlt,\n              borderRadius: '6px',\n              border: `1px solid ${theme.colors.border}`,\n            }}>\n              <div style={{ fontSize: '12px', color: theme.colors.primary, fontWeight: '600', marginBottom: '4px' }}>\n                Not Commutative\n              </div>\n              <div style={{ fontSize: '11px', color: theme.colors.textSecondary }}>\n                A×B ≠ B×A (order matters!)\n              </div>\n            </div>\n          </div>\n        </Card>\n      </div>\n    </div>\n  );\n}",
  "settings": {
    "editorHeight": 600,
    "showPreview": true,
    "theme": "auto",
    "showEditor": false,
    "editorWidthPercentage": 35,
    "showConsole": false
  },
  "dependencies": {}
}