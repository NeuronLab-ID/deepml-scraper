{
  "problem_id": 3,
  "title": "Reshape Matrix",
  "category": "Linear Algebra",
  "enabled": true,
  "type": "react",
  "code": "import React, { useState, useMemo } from 'react';\n\n// ============================================\n// Inline SVG Icons\n// ============================================\nconst Icons = {\n  Grid3X3: ({ size = 24, color = 'currentColor' }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\"/><path d=\"M3 9h18\"/><path d=\"M3 15h18\"/><path d=\"M9 3v18\"/><path d=\"M15 3v18\"/>\n    </svg>\n  ),\n  ArrowRight: ({ size = 24, color = 'currentColor' }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"M5 12h14\"/><path d=\"m12 5 7 7-7 7\"/>\n    </svg>\n  ),\n  Play: ({ size = 24, color = 'currentColor' }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <polygon points=\"5 3 19 12 5 21 5 3\"/>\n    </svg>\n  ),\n  RotateCcw: ({ size = 24, color = 'currentColor' }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8\"/><path d=\"M3 3v5h5\"/>\n    </svg>\n  ),\n  Shuffle: ({ size = 24, color = 'currentColor' }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22\"/><path d=\"m18 2 4 4-4 4\"/><path d=\"M2 6h1.9c1.5 0 2.9.9 3.6 2.2\"/><path d=\"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8\"/><path d=\"m18 14 4 4-4 4\"/>\n    </svg>\n  ),\n  Check: ({ size = 24, color = 'currentColor' }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <polyline points=\"20 6 9 17 4 12\"/>\n    </svg>\n  ),\n  X: ({ size = 24, color = 'currentColor' }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"M18 6 6 18\"/><path d=\"m6 6 12 12\"/>\n    </svg>\n  ),\n  Layers: ({ size = 24, color = 'currentColor' }) => (\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z\"/><path d=\"m22 12.5-8.58 3.91a2 2 0 0 1-1.66 0L2 12.5\"/><path d=\"m22 17.5-8.58 3.91a2 2 0 0 1-1.66 0L2 17.5\"/>\n    </svg>\n  ),\n};\n\n// ============================================\n// Design Tokens\n// ============================================\nconst theme = {\n  colors: {\n    primary: '#6366f1',\n    primaryHover: '#4f46e5',\n    secondary: '#ffffff',\n    background: '#000000',\n    surface: '#0a0a0a',\n    surfaceAlt: '#111111',\n    border: '#1f1f1f',\n    borderLight: '#2a2a2a',\n    text: '#ffffff',\n    textSecondary: '#a1a1aa',\n    textMuted: '#71717a',\n    success: '#22c55e',\n    error: '#ef4444',\n    warning: '#f59e0b',\n    highlight: '#6366f1',\n  },\n  font: \"'JetBrains Mono', monospace\",\n};\n\n// Color palette for elements\nconst elementColors = [\n  '#ef4444', '#f97316', '#f59e0b', '#eab308', \n  '#84cc16', '#22c55e', '#14b8a6', '#06b6d4',\n  '#3b82f6', '#6366f1', '#8b5cf6', '#a855f7',\n];\n\n// ============================================\n// Card Component\n// ============================================\nfunction Card({ children, style = {} }) {\n  return (\n    <div\n      style={{\n        background: theme.colors.surface,\n        border: `1px solid ${theme.colors.border}`,\n        borderRadius: '12px',\n        padding: '24px',\n        ...style,\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\n// ============================================\n// Flat Element View - Shows linear index\n// ============================================\nfunction FlatElementView({ elements, highlightIndex, label }) {\n  return (\n    <div>\n      <div style={{\n        fontSize: '11px',\n        color: theme.colors.textMuted,\n        textTransform: 'uppercase',\n        letterSpacing: '0.5px',\n        marginBottom: '8px',\n        textAlign: 'center',\n      }}>\n        {label}\n      </div>\n      <div style={{\n        display: 'flex',\n        flexWrap: 'wrap',\n        gap: '4px',\n        padding: '12px',\n        background: theme.colors.surfaceAlt,\n        borderRadius: '8px',\n        border: `1px solid ${theme.colors.border}`,\n        maxWidth: '400px',\n      }}>\n        {elements.map((val, idx) => {\n          const color = elementColors[idx % elementColors.length];\n          const isHighlighted = highlightIndex === idx;\n          return (\n            <div\n              key={idx}\n              style={{\n                width: '36px',\n                height: '36px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                background: isHighlighted ? `${color}30` : `${color}15`,\n                border: `2px solid ${isHighlighted ? color : `${color}40`}`,\n                borderRadius: '6px',\n                fontSize: '13px',\n                fontWeight: '600',\n                fontFamily: theme.font,\n                color: isHighlighted ? color : theme.colors.text,\n                transition: 'all 0.2s ease',\n                transform: isHighlighted ? 'scale(1.1)' : 'scale(1)',\n              }}\n            >\n              {val}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// Matrix Cell\n// ============================================\nfunction MatrixCell({ value, onChange, flatIndex, isHighlighted, editable = true }) {\n  const color = elementColors[flatIndex % elementColors.length];\n  \n  return (\n    <div style={{ position: 'relative' }}>\n      <input\n        type=\"number\"\n        value={value}\n        onChange={(e) => onChange && onChange(parseFloat(e.target.value) || 0)}\n        disabled={!editable}\n        style={{\n          width: '48px',\n          height: '48px',\n          background: isHighlighted ? `${color}30` : `${color}15`,\n          border: `2px solid ${isHighlighted ? color : `${color}40`}`,\n          borderRadius: '8px',\n          color: isHighlighted ? color : theme.colors.text,\n          fontFamily: theme.font,\n          fontSize: '15px',\n          fontWeight: '600',\n          textAlign: 'center',\n          outline: 'none',\n          transition: 'all 0.2s ease',\n          transform: isHighlighted ? 'scale(1.05)' : 'scale(1)',\n          cursor: editable ? 'text' : 'default',\n        }}\n      />\n      {/* Index badge */}\n      <div\n        style={{\n          position: 'absolute',\n          top: '-6px',\n          right: '-6px',\n          width: '16px',\n          height: '16px',\n          borderRadius: '50%',\n          background: color,\n          fontSize: '9px',\n          fontWeight: '700',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          color: '#000',\n          fontFamily: theme.font,\n        }}\n      >\n        {flatIndex}\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// Matrix Display\n// ============================================\nfunction MatrixDisplay({ matrix, highlightIndex, label, dims, editable = false, onChange }) {\n  let flatIdx = 0;\n  \n  return (\n    <div>\n      <div style={{\n        fontSize: '11px',\n        color: theme.colors.textMuted,\n        textTransform: 'uppercase',\n        letterSpacing: '0.5px',\n        marginBottom: '8px',\n        textAlign: 'center',\n      }}>\n        {label} ({dims})\n      </div>\n      <div\n        style={{\n          display: 'inline-flex',\n          flexDirection: 'column',\n          gap: '6px',\n          padding: '16px',\n          background: theme.colors.surfaceAlt,\n          borderRadius: '12px',\n          border: `1px solid ${theme.colors.border}`,\n        }}\n      >\n        {matrix.map((row, rowIdx) => {\n          return (\n            <div key={rowIdx} style={{ display: 'flex', gap: '6px' }}>\n              {row.map((cell, colIdx) => {\n                const currentFlatIdx = flatIdx++;\n                return (\n                  <MatrixCell\n                    key={colIdx}\n                    value={cell}\n                    flatIndex={currentFlatIdx}\n                    isHighlighted={highlightIndex === currentFlatIdx}\n                    editable={editable}\n                    onChange={onChange ? (v) => onChange(rowIdx, colIdx, v) : null}\n                  />\n                );\n              })}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// Shape Selector\n// ============================================\nfunction ShapeSelector({ rows, cols, totalElements, onRowsChange, onColsChange, isValid }) {\n  const validShapes = useMemo(() => {\n    const shapes = [];\n    for (let r = 1; r <= totalElements; r++) {\n      if (totalElements % r === 0) {\n        shapes.push([r, totalElements / r]);\n      }\n    }\n    return shapes;\n  }, [totalElements]);\n\n  return (\n    <div style={{\n      background: theme.colors.surfaceAlt,\n      border: `1px solid ${isValid ? theme.colors.border : theme.colors.error}`,\n      borderRadius: '8px',\n      padding: '16px',\n    }}>\n      <div style={{\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        marginBottom: '12px',\n      }}>\n        <div style={{\n          fontSize: '11px',\n          color: theme.colors.textMuted,\n          textTransform: 'uppercase',\n          letterSpacing: '0.5px',\n        }}>\n          Target Shape\n        </div>\n        <div style={{\n          display: 'flex',\n          alignItems: 'center',\n          gap: '6px',\n          padding: '4px 10px',\n          background: isValid ? `${theme.colors.success}20` : `${theme.colors.error}20`,\n          border: `1px solid ${isValid ? theme.colors.success : theme.colors.error}30`,\n          borderRadius: '6px',\n          fontSize: '12px',\n          color: isValid ? theme.colors.success : theme.colors.error,\n        }}>\n          {isValid ? <Icons.Check size={12} /> : <Icons.X size={12} />}\n          {isValid ? 'Valid' : 'Invalid'}\n        </div>\n      </div>\n      \n      <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '16px' }}>\n        <div>\n          <label style={{ fontSize: '11px', color: theme.colors.textMuted, display: 'block', marginBottom: '4px' }}>\n            Rows\n          </label>\n          <input\n            type=\"number\"\n            min=\"1\"\n            value={rows}\n            onChange={(e) => onRowsChange(Math.max(1, parseInt(e.target.value) || 1))}\n            style={{\n              width: '60px',\n              padding: '8px 12px',\n              background: theme.colors.background,\n              border: `1px solid ${theme.colors.border}`,\n              borderRadius: '6px',\n              color: theme.colors.text,\n              fontFamily: theme.font,\n              fontSize: '14px',\n              textAlign: 'center',\n              outline: 'none',\n            }}\n          />\n        </div>\n        <div style={{ color: theme.colors.textMuted, fontSize: '18px', marginTop: '18px' }}>×</div>\n        <div>\n          <label style={{ fontSize: '11px', color: theme.colors.textMuted, display: 'block', marginBottom: '4px' }}>\n            Cols\n          </label>\n          <input\n            type=\"number\"\n            min=\"1\"\n            value={cols}\n            onChange={(e) => onColsChange(Math.max(1, parseInt(e.target.value) || 1))}\n            style={{\n              width: '60px',\n              padding: '8px 12px',\n              background: theme.colors.background,\n              border: `1px solid ${theme.colors.border}`,\n              borderRadius: '6px',\n              color: theme.colors.text,\n              fontFamily: theme.font,\n              fontSize: '14px',\n              textAlign: 'center',\n              outline: 'none',\n            }}\n          />\n        </div>\n        <div style={{ \n          marginTop: '18px',\n          padding: '8px 12px',\n          background: theme.colors.background,\n          borderRadius: '6px',\n          fontSize: '13px',\n          color: isValid ? theme.colors.text : theme.colors.error,\n        }}>\n          = {rows * cols} elements\n        </div>\n      </div>\n      \n      {/* Quick shape buttons */}\n      <div>\n        <div style={{ fontSize: '11px', color: theme.colors.textMuted, marginBottom: '8px' }}>\n          Valid shapes for {totalElements} elements:\n        </div>\n        <div style={{ display: 'flex', gap: '6px', flexWrap: 'wrap' }}>\n          {validShapes.map(([r, c]) => (\n            <button\n              key={`${r}x${c}`}\n              onClick={() => { onRowsChange(r); onColsChange(c); }}\n              style={{\n                padding: '6px 12px',\n                background: (rows === r && cols === c) ? theme.colors.primary : 'transparent',\n                border: `1px solid ${(rows === r && cols === c) ? theme.colors.primary : theme.colors.border}`,\n                borderRadius: '6px',\n                color: (rows === r && cols === c) ? theme.colors.secondary : theme.colors.textSecondary,\n                fontFamily: theme.font,\n                fontSize: '12px',\n                cursor: 'pointer',\n                transition: 'all 0.2s',\n              }}\n            >\n              {r}×{c}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ============================================\n// Main Component\n// ============================================\nexport default function ReshapeMatrix() {\n  const [matrix, setMatrix] = useState([\n    [1, 2, 3, 4],\n    [5, 6, 7, 8],\n  ]);\n  const [targetRows, setTargetRows] = useState(4);\n  const [targetCols, setTargetCols] = useState(2);\n  const [isAnimating, setIsAnimating] = useState(false);\n  const [highlightIndex, setHighlightIndex] = useState(-1);\n  const [showFlat, setShowFlat] = useState(false);\n  \n  const rows = matrix.length;\n  const cols = matrix[0].length;\n  const totalElements = rows * cols;\n  const isValid = targetRows * targetCols === totalElements;\n  \n  // Flatten matrix\n  const flatElements = useMemo(() => {\n    return matrix.flat();\n  }, [matrix]);\n  \n  // Compute reshaped matrix\n  const reshapedMatrix = useMemo(() => {\n    if (!isValid) return null;\n    const result = [];\n    let idx = 0;\n    for (let r = 0; r < targetRows; r++) {\n      const row = [];\n      for (let c = 0; c < targetCols; c++) {\n        row.push(flatElements[idx++]);\n      }\n      result.push(row);\n    }\n    return result;\n  }, [flatElements, targetRows, targetCols, isValid]);\n  \n  // Update matrix cell\n  const updateMatrix = (rowIdx, colIdx, value) => {\n    const newMatrix = matrix.map((row, r) =>\n      row.map((cell, c) => (r === rowIdx && c === colIdx ? value : cell))\n    );\n    setMatrix(newMatrix);\n  };\n  \n  // Dimension controls\n  const addRow = () => {\n    if (rows < 5) {\n      setMatrix([...matrix, Array(cols).fill(0)]);\n    }\n  };\n  \n  const removeRow = () => {\n    if (rows > 1) {\n      setMatrix(matrix.slice(0, -1));\n    }\n  };\n  \n  const addCol = () => {\n    if (cols < 6) {\n      setMatrix(matrix.map(row => [...row, 0]));\n    }\n  };\n  \n  const removeCol = () => {\n    if (cols > 1) {\n      setMatrix(matrix.map(row => row.slice(0, -1)));\n    }\n  };\n  \n  // Animation\n  const animate = async () => {\n    if (!isValid) return;\n    setIsAnimating(true);\n    setShowFlat(true);\n    \n    for (let i = 0; i < totalElements; i++) {\n      setHighlightIndex(i);\n      await new Promise(r => setTimeout(r, 200));\n    }\n    \n    setHighlightIndex(-1);\n    setIsAnimating(false);\n  };\n  \n  // Reset\n  const reset = () => {\n    setMatrix([[1, 2, 3, 4], [5, 6, 7, 8]]);\n    setTargetRows(4);\n    setTargetCols(2);\n    setHighlightIndex(-1);\n    setShowFlat(false);\n  };\n  \n  // Randomize\n  const randomize = () => {\n    const newMatrix = matrix.map(row =>\n      row.map(() => Math.floor(Math.random() * 19) - 9)\n    );\n    setMatrix(newMatrix);\n  };\n\n  return (\n    <div\n      style={{\n        minHeight: '100vh',\n        background: theme.colors.background,\n        color: theme.colors.text,\n        fontFamily: theme.font,\n        padding: '32px',\n      }}\n    >\n      <div style={{ maxWidth: '900px', margin: '0 auto' }}>\n        {/* Header */}\n        <div style={{ marginBottom: '32px' }}>\n          <div style={{ display: 'flex', alignItems: 'center', gap: '12px', marginBottom: '8px' }}>\n            <Icons.Layers size={24} color={theme.colors.primary} />\n            <h1 style={{ fontSize: '24px', fontWeight: '600', margin: 0 }}>\n              Reshape Matrix\n            </h1>\n          </div>\n          <p style={{ color: theme.colors.textSecondary, fontSize: '14px', margin: 0 }}>\n            Change matrix dimensions while preserving element order (row-major)\n          </p>\n        </div>\n        \n        {/* Input Matrix Controls */}\n        <Card>\n          <div style={{ \n            display: 'flex', \n            justifyContent: 'space-between', \n            alignItems: 'center',\n            marginBottom: '20px',\n          }}>\n            <div style={{ fontSize: '12px', color: theme.colors.textMuted, textTransform: 'uppercase', letterSpacing: '0.5px' }}>\n              Input Matrix\n            </div>\n            <div style={{ \n              padding: '6px 12px', \n              background: theme.colors.surfaceAlt, \n              borderRadius: '6px',\n              fontSize: '13px',\n              color: theme.colors.textSecondary,\n            }}>\n              {rows} × {cols} = {totalElements} elements\n            </div>\n          </div>\n          \n          <div style={{ display: 'flex', gap: '8px', flexWrap: 'wrap' }}>\n            {[\n              { label: '+ Row', action: addRow, disabled: rows >= 5 },\n              { label: '- Row', action: removeRow, disabled: rows <= 1 },\n              { label: '+ Col', action: addCol, disabled: cols >= 6 },\n              { label: '- Col', action: removeCol, disabled: cols <= 1 },\n            ].map(({ label, action, disabled }) => (\n              <button\n                key={label}\n                onClick={action}\n                disabled={disabled}\n                style={{\n                  padding: '8px 16px',\n                  background: theme.colors.surfaceAlt,\n                  border: `1px solid ${theme.colors.border}`,\n                  borderRadius: '6px',\n                  color: disabled ? theme.colors.textMuted : theme.colors.textSecondary,\n                  fontFamily: theme.font,\n                  fontSize: '13px',\n                  cursor: disabled ? 'not-allowed' : 'pointer',\n                  opacity: disabled ? 0.5 : 1,\n                }}\n              >\n                {label}\n              </button>\n            ))}\n            <button\n              onClick={randomize}\n              style={{\n                padding: '8px 16px',\n                background: theme.colors.surfaceAlt,\n                border: `1px solid ${theme.colors.border}`,\n                borderRadius: '6px',\n                color: theme.colors.textSecondary,\n                fontFamily: theme.font,\n                fontSize: '13px',\n                cursor: 'pointer',\n                display: 'flex',\n                alignItems: 'center',\n                gap: '6px',\n              }}\n            >\n              <Icons.Shuffle size={14} />\n              Random\n            </button>\n          </div>\n        </Card>\n        \n        {/* Target Shape */}\n        <Card style={{ marginTop: '16px' }}>\n          <ShapeSelector\n            rows={targetRows}\n            cols={targetCols}\n            totalElements={totalElements}\n            onRowsChange={setTargetRows}\n            onColsChange={setTargetCols}\n            isValid={isValid}\n          />\n        </Card>\n        \n        {/* Main Visualization */}\n        <Card style={{ marginTop: '16px' }}>\n          <div style={{ \n            display: 'flex', \n            alignItems: 'flex-start', \n            gap: '24px',\n            justifyContent: 'center',\n            flexWrap: 'wrap',\n          }}>\n            {/* Input Matrix */}\n            <MatrixDisplay\n              matrix={matrix}\n              highlightIndex={highlightIndex}\n              label=\"Input\"\n              dims={`${rows}×${cols}`}\n              editable={true}\n              onChange={updateMatrix}\n            />\n            \n            {/* Arrow */}\n            <div style={{ \n              display: 'flex', \n              flexDirection: 'column', \n              alignItems: 'center',\n              gap: '8px',\n              paddingTop: '40px',\n            }}>\n              <div style={{\n                padding: '6px 12px',\n                background: isValid ? `${theme.colors.success}20` : `${theme.colors.error}20`,\n                border: `1px solid ${isValid ? theme.colors.success : theme.colors.error}30`,\n                borderRadius: '6px',\n                fontSize: '11px',\n                color: isValid ? theme.colors.success : theme.colors.error,\n              }}>\n                {isValid ? 'reshape' : 'invalid!'}\n              </div>\n              <Icons.ArrowRight size={24} color={theme.colors.textMuted} />\n            </div>\n            \n            {/* Output Matrix */}\n            {isValid && reshapedMatrix ? (\n              <MatrixDisplay\n                matrix={reshapedMatrix}\n                highlightIndex={highlightIndex}\n                label=\"Output\"\n                dims={`${targetRows}×${targetCols}`}\n              />\n            ) : (\n              <div style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center',\n                padding: '40px',\n                background: `${theme.colors.error}10`,\n                border: `2px dashed ${theme.colors.error}40`,\n                borderRadius: '12px',\n                minWidth: '150px',\n              }}>\n                <Icons.X size={32} color={theme.colors.error} />\n                <div style={{\n                  marginTop: '12px',\n                  fontSize: '14px',\n                  color: theme.colors.error,\n                  fontWeight: '600',\n                }}>\n                  [ ]\n                </div>\n                <div style={{\n                  marginTop: '4px',\n                  fontSize: '11px',\n                  color: theme.colors.textMuted,\n                  textAlign: 'center',\n                }}>\n                  {targetRows}×{targetCols} = {targetRows * targetCols}<br/>\n                  ≠ {totalElements} elements\n                </div>\n              </div>\n            )}\n          </div>\n          \n          {/* Flattened view */}\n          {showFlat && (\n            <div style={{ marginTop: '24px' }}>\n              <FlatElementView\n                elements={flatElements}\n                highlightIndex={highlightIndex}\n                label=\"Flattened (Row-Major Order)\"\n              />\n              <div style={{\n                marginTop: '12px',\n                padding: '12px 16px',\n                background: theme.colors.surfaceAlt,\n                borderRadius: '8px',\n                fontSize: '12px',\n                color: theme.colors.textSecondary,\n              }}>\n                Elements are read left-to-right, top-to-bottom, then written to the new shape in the same order.\n              </div>\n            </div>\n          )}\n          \n          {/* Controls */}\n          <div style={{ display: 'flex', gap: '12px', marginTop: '24px' }}>\n            <button\n              onClick={animate}\n              disabled={!isValid || isAnimating}\n              style={{\n                flex: 1,\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '8px',\n                padding: '14px 24px',\n                background: isValid ? theme.colors.primary : theme.colors.surfaceAlt,\n                border: 'none',\n                borderRadius: '8px',\n                color: isValid ? theme.colors.secondary : theme.colors.textMuted,\n                fontFamily: theme.font,\n                fontSize: '14px',\n                fontWeight: '600',\n                cursor: isValid && !isAnimating ? 'pointer' : 'not-allowed',\n                opacity: isAnimating ? 0.7 : 1,\n              }}\n            >\n              <Icons.Play size={16} />\n              {isAnimating ? 'Animating...' : 'Animate Reshape'}\n            </button>\n            \n            <button\n              onClick={() => setShowFlat(!showFlat)}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '8px',\n                padding: '14px 24px',\n                background: showFlat ? theme.colors.primary + '20' : theme.colors.surfaceAlt,\n                border: `1px solid ${showFlat ? theme.colors.primary : theme.colors.border}`,\n                borderRadius: '8px',\n                color: showFlat ? theme.colors.primary : theme.colors.textSecondary,\n                fontFamily: theme.font,\n                fontSize: '14px',\n                fontWeight: '500',\n                cursor: 'pointer',\n              }}\n            >\n              <Icons.Grid3X3 size={16} />\n              Flat View\n            </button>\n            \n            <button\n              onClick={reset}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                gap: '8px',\n                padding: '14px 24px',\n                background: theme.colors.surfaceAlt,\n                border: `1px solid ${theme.colors.border}`,\n                borderRadius: '8px',\n                color: theme.colors.textSecondary,\n                fontFamily: theme.font,\n                fontSize: '14px',\n                fontWeight: '500',\n                cursor: 'pointer',\n              }}\n            >\n              <Icons.RotateCcw size={16} />\n              Reset\n            </button>\n          </div>\n        </Card>\n        \n        {/* Key Concept */}\n        <Card style={{ marginTop: '16px' }}>\n          <div style={{ \n            fontSize: '11px', \n            color: theme.colors.textMuted, \n            marginBottom: '16px',\n            textTransform: 'uppercase',\n            letterSpacing: '0.5px',\n          }}>\n            Key Concept\n          </div>\n          \n          <div style={{\n            display: 'grid',\n            gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n            gap: '16px',\n          }}>\n            <div style={{\n              padding: '16px',\n              background: theme.colors.surfaceAlt,\n              borderRadius: '8px',\n              border: `1px solid ${theme.colors.border}`,\n            }}>\n              <div style={{\n                fontSize: '14px',\n                color: theme.colors.primary,\n                fontWeight: '600',\n                marginBottom: '8px',\n              }}>\n                Total Elements Must Match\n              </div>\n              <div style={{ fontSize: '12px', color: theme.colors.textSecondary }}>\n                old_rows × old_cols = new_rows × new_cols\n              </div>\n              <div style={{\n                marginTop: '8px',\n                padding: '8px',\n                background: theme.colors.background,\n                borderRadius: '6px',\n                fontSize: '13px',\n                color: theme.colors.text,\n              }}>\n                {rows} × {cols} = {totalElements}\n                <br />\n                {targetRows} × {targetCols} = {targetRows * targetCols}\n                <span style={{ \n                  marginLeft: '8px', \n                  color: isValid ? theme.colors.success : theme.colors.error \n                }}>\n                  {isValid ? '✓' : '✗'}\n                </span>\n              </div>\n            </div>\n            \n            <div style={{\n              padding: '16px',\n              background: theme.colors.surfaceAlt,\n              borderRadius: '8px',\n              border: `1px solid ${theme.colors.border}`,\n            }}>\n              <div style={{\n                fontSize: '14px',\n                color: theme.colors.warning,\n                fontWeight: '600',\n                marginBottom: '8px',\n              }}>\n                Row-Major Order\n              </div>\n              <div style={{ fontSize: '12px', color: theme.colors.textSecondary }}>\n                Elements are read/written left-to-right, top-to-bottom (C-style ordering)\n              </div>\n            </div>\n            \n            <div style={{\n              padding: '16px',\n              background: theme.colors.surfaceAlt,\n              borderRadius: '8px',\n              border: `1px solid ${theme.colors.border}`,\n            }}>\n              <div style={{\n                fontSize: '14px',\n                color: theme.colors.error,\n                fontWeight: '600',\n                marginBottom: '8px',\n              }}>\n                Invalid → Empty List\n              </div>\n              <div style={{ fontSize: '12px', color: theme.colors.textSecondary }}>\n                If dimensions don't match, return <code style={{ color: theme.colors.text }}>[]</code>\n              </div>\n            </div>\n          </div>\n        </Card>\n      </div>\n    </div>\n  );\n}",
  "settings": {
    "editorHeight": 600,
    "showPreview": true,
    "theme": "auto",
    "showEditor": false,
    "editorWidthPercentage": 35,
    "showConsole": false
  },
  "dependencies": {}
}